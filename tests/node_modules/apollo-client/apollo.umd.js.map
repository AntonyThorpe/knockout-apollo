{"version":3,"file":"apollo.umd.js","sources":["src/transport/networkInterface.js","src/transport/batching.js","src/util/assign.js","src/transport/batchedNetworkInterface.js","src/actions.js","src/queries/getFromAST.js","src/data/storeUtils.js","src/queries/directives.js","src/data/writeToStore.js","src/optimistic-data/store.js","src/util/isEqual.js","src/data/readFromStore.js","src/util/cloneDeep.js","src/queries/queryTransform.js","src/data/proxy.js","src/data/replaceQueryResults.js","src/util/errorHandling.js","src/data/store.js","src/queries/networkStatus.js","src/queries/store.js","src/mutations/store.js","src/store.js","src/util/Observable.js","src/errors/ApolloError.js","src/core/types.js","src/util/environment.js","src/util/maybeDeepFreeze.js","src/core/ObservableQuery.js","src/data/fragmentMatcher.js","src/transport/Deduplicator.js","src/data/resultReducers.js","src/scheduler/scheduler.js","src/core/QueryManager.js","src/version.js","src/ApolloClient.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport 'whatwg-fetch';\nimport { print } from 'graphql/language/printer';\nexport function printRequest(request) {\n    return __assign({}, request, { query: print(request.query) });\n}\nvar BaseNetworkInterface = (function () {\n    function BaseNetworkInterface(uri, opts) {\n        if (opts === void 0) { opts = {}; }\n        if (!uri) {\n            throw new Error('A remote endpoint is required for a network layer');\n        }\n        if (typeof uri !== 'string') {\n            throw new Error('Remote endpoint must be a string');\n        }\n        this._uri = uri;\n        this._opts = __assign({}, opts);\n        this._middlewares = [];\n        this._afterwares = [];\n    }\n    BaseNetworkInterface.prototype.query = function (request) {\n        return new Promise(function (resolve, reject) {\n            reject(new Error('BaseNetworkInterface should not be used directly'));\n        });\n    };\n    return BaseNetworkInterface;\n}());\nexport { BaseNetworkInterface };\nvar HTTPFetchNetworkInterface = (function (_super) {\n    __extends(HTTPFetchNetworkInterface, _super);\n    function HTTPFetchNetworkInterface() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HTTPFetchNetworkInterface.prototype.applyMiddlewares = function (requestAndOptions) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var request = requestAndOptions.request, options = requestAndOptions.options;\n            var queue = function (funcs, scope) {\n                var next = function () {\n                    if (funcs.length > 0) {\n                        var f = funcs.shift();\n                        if (f) {\n                            f.applyMiddleware.apply(scope, [{ request: request, options: options }, next]);\n                        }\n                    }\n                    else {\n                        resolve({\n                            request: request,\n                            options: options,\n                        });\n                    }\n                };\n                next();\n            };\n            queue(_this._middlewares.slice(), _this);\n        });\n    };\n    HTTPFetchNetworkInterface.prototype.applyAfterwares = function (_a) {\n        var _this = this;\n        var response = _a.response, options = _a.options;\n        return new Promise(function (resolve, reject) {\n            var responseObject = { response: response, options: options };\n            var queue = function (funcs, scope) {\n                var next = function () {\n                    if (funcs.length > 0) {\n                        var f = funcs.shift();\n                        if (f) {\n                            f.applyAfterware.apply(scope, [responseObject, next]);\n                        }\n                    }\n                    else {\n                        resolve(responseObject);\n                    }\n                };\n                next();\n            };\n            queue(_this._afterwares.slice(), _this);\n        });\n    };\n    HTTPFetchNetworkInterface.prototype.fetchFromRemoteEndpoint = function (_a) {\n        var request = _a.request, options = _a.options;\n        return fetch(this._uri, __assign({}, this._opts, { body: JSON.stringify(printRequest(request)), method: 'POST' }, options, { headers: __assign({ Accept: '*/*', 'Content-Type': 'application/json' }, options.headers) }));\n    };\n    HTTPFetchNetworkInterface.prototype.query = function (request) {\n        var _this = this;\n        var options = __assign({}, this._opts);\n        return this.applyMiddlewares({\n            request: request,\n            options: options,\n        }).then(function (rao) { return _this.fetchFromRemoteEndpoint.call(_this, rao); })\n            .then(function (response) { return _this.applyAfterwares({\n            response: response,\n            options: options,\n        }); })\n            .then(function (_a) {\n            var response = _a.response;\n            var httpResponse = response;\n            return httpResponse.json().catch(function () {\n                var httpError = new Error(\"Network request failed with status \" + response.status + \" - \\\"\" + response.statusText + \"\\\"\");\n                httpError.response = httpResponse;\n                throw httpError;\n            });\n        })\n            .then(function (payload) {\n            if (!payload.hasOwnProperty('data') && !payload.hasOwnProperty('errors')) {\n                throw new Error(\"Server response was missing for query '\" + request.debugName + \"'.\");\n            }\n            else {\n                return payload;\n            }\n        });\n    };\n    HTTPFetchNetworkInterface.prototype.use = function (middlewares) {\n        var _this = this;\n        middlewares.map(function (middleware) {\n            if (typeof middleware.applyMiddleware === 'function') {\n                _this._middlewares.push(middleware);\n            }\n            else {\n                throw new Error('Middleware must implement the applyMiddleware function');\n            }\n        });\n        return this;\n    };\n    HTTPFetchNetworkInterface.prototype.useAfter = function (afterwares) {\n        var _this = this;\n        afterwares.map(function (afterware) {\n            if (typeof afterware.applyAfterware === 'function') {\n                _this._afterwares.push(afterware);\n            }\n            else {\n                throw new Error('Afterware must implement the applyAfterware function');\n            }\n        });\n        return this;\n    };\n    return HTTPFetchNetworkInterface;\n}(BaseNetworkInterface));\nexport { HTTPFetchNetworkInterface };\nexport function createNetworkInterface(uriOrInterfaceOpts, secondArgOpts) {\n    if (secondArgOpts === void 0) { secondArgOpts = {}; }\n    if (!uriOrInterfaceOpts) {\n        throw new Error('You must pass an options argument to createNetworkInterface.');\n    }\n    var uri;\n    var opts;\n    if (typeof uriOrInterfaceOpts === 'string') {\n        console.warn(\"Passing the URI as the first argument to createNetworkInterface is deprecated as of Apollo Client 0.5. Please pass it as the \\\"uri\\\" property of the network interface options.\");\n        opts = secondArgOpts;\n        uri = uriOrInterfaceOpts;\n    }\n    else {\n        opts = uriOrInterfaceOpts.opts;\n        uri = uriOrInterfaceOpts.uri;\n    }\n    return new HTTPFetchNetworkInterface(uri, opts);\n}\n//# sourceMappingURL=networkInterface.js.map","var QueryBatcher = (function () {\n    function QueryBatcher(_a) {\n        var batchInterval = _a.batchInterval, batchFetchFunction = _a.batchFetchFunction;\n        this.queuedRequests = [];\n        this.queuedRequests = [];\n        this.batchInterval = batchInterval;\n        this.batchFetchFunction = batchFetchFunction;\n    }\n    QueryBatcher.prototype.enqueueRequest = function (request) {\n        var fetchRequest = {\n            request: request,\n        };\n        this.queuedRequests.push(fetchRequest);\n        fetchRequest.promise = new Promise(function (resolve, reject) {\n            fetchRequest.resolve = resolve;\n            fetchRequest.reject = reject;\n        });\n        if (this.queuedRequests.length === 1) {\n            this.scheduleQueueConsumption();\n        }\n        return fetchRequest.promise;\n    };\n    QueryBatcher.prototype.consumeQueue = function () {\n        var requests = this.queuedRequests.map(function (queuedRequest) { return queuedRequest.request; });\n        var promises = [];\n        var resolvers = [];\n        var rejecters = [];\n        this.queuedRequests.forEach(function (fetchRequest, index) {\n            promises.push(fetchRequest.promise);\n            resolvers.push(fetchRequest.resolve);\n            rejecters.push(fetchRequest.reject);\n        });\n        this.queuedRequests = [];\n        var batchedPromise = this.batchFetchFunction(requests);\n        batchedPromise.then(function (results) {\n            results.forEach(function (result, index) {\n                resolvers[index](result);\n            });\n        }).catch(function (error) {\n            rejecters.forEach(function (rejecter, index) {\n                rejecters[index](error);\n            });\n        });\n        return promises;\n    };\n    QueryBatcher.prototype.scheduleQueueConsumption = function () {\n        var _this = this;\n        setTimeout(function () {\n            _this.consumeQueue();\n        }, this.batchInterval);\n    };\n    return QueryBatcher;\n}());\nexport { QueryBatcher };\n//# sourceMappingURL=batching.js.map","export function assign(target) {\n    var sources = [];\n    for (var _i = 1; _i < arguments.length; _i++) {\n        sources[_i - 1] = arguments[_i];\n    }\n    sources.forEach(function (source) { return Object.keys(source).forEach(function (key) {\n        target[key] = source[key];\n    }); });\n    return target;\n}\n//# sourceMappingURL=assign.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport 'whatwg-fetch';\nimport { BaseNetworkInterface, printRequest, } from './networkInterface';\nimport { QueryBatcher, } from './batching';\nimport { assign } from '../util/assign';\nvar HTTPBatchedNetworkInterface = (function (_super) {\n    __extends(HTTPBatchedNetworkInterface, _super);\n    function HTTPBatchedNetworkInterface(uri, batchInterval, fetchOpts) {\n        var _this = _super.call(this, uri, fetchOpts) || this;\n        if (typeof batchInterval !== 'number') {\n            throw new Error(\"batchInterval must be a number, got \" + batchInterval);\n        }\n        _this.batcher = new QueryBatcher({\n            batchInterval: batchInterval,\n            batchFetchFunction: _this.batchQuery.bind(_this),\n        });\n        return _this;\n    }\n    HTTPBatchedNetworkInterface.prototype.query = function (request) {\n        return this.batcher.enqueueRequest(request);\n    };\n    HTTPBatchedNetworkInterface.prototype.batchQuery = function (requests) {\n        var _this = this;\n        var options = __assign({}, this._opts);\n        var middlewarePromise = this.applyBatchMiddlewares({\n            requests: requests,\n            options: options,\n        });\n        return new Promise(function (resolve, reject) {\n            middlewarePromise.then(function (batchRequestAndOptions) {\n                return _this.batchedFetchFromRemoteEndpoint(batchRequestAndOptions)\n                    .then(function (result) {\n                    var httpResponse = result;\n                    if (!httpResponse.ok) {\n                        return _this.applyBatchAfterwares({ responses: [httpResponse], options: batchRequestAndOptions })\n                            .then(function () {\n                            var httpError = new Error(\"Network request failed with status \" + httpResponse.status + \" - \\\"\" + httpResponse.statusText + \"\\\"\");\n                            httpError.response = httpResponse;\n                            throw httpError;\n                        });\n                    }\n                    return result.json();\n                })\n                    .then(function (responses) {\n                    if (typeof responses.map !== 'function') {\n                        throw new Error('BatchingNetworkInterface: server response is not an array');\n                    }\n                    _this.applyBatchAfterwares({\n                        responses: responses,\n                        options: batchRequestAndOptions.options,\n                    }).then(function (responseAndOptions) {\n                        resolve(responseAndOptions.responses);\n                    }).catch(function (error) {\n                        reject(error);\n                    });\n                });\n            }).catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    HTTPBatchedNetworkInterface.prototype.applyBatchMiddlewares = function (_a) {\n        var _this = this;\n        var requests = _a.requests, options = _a.options;\n        return new Promise(function (resolve, reject) {\n            var queue = function (funcs, scope) {\n                var next = function () {\n                    if (funcs.length > 0) {\n                        var f = funcs.shift();\n                        if (f) {\n                            f.applyBatchMiddleware.apply(scope, [{ requests: requests, options: options }, next]);\n                        }\n                    }\n                    else {\n                        resolve({\n                            requests: requests,\n                            options: options,\n                        });\n                    }\n                };\n                next();\n            };\n            queue(_this._middlewares.slice(), _this);\n        });\n    };\n    HTTPBatchedNetworkInterface.prototype.applyBatchAfterwares = function (_a) {\n        var _this = this;\n        var responses = _a.responses, options = _a.options;\n        return new Promise(function (resolve, reject) {\n            var responseObject = { responses: responses, options: options };\n            var queue = function (funcs, scope) {\n                var next = function () {\n                    if (funcs.length > 0) {\n                        var f = funcs.shift();\n                        if (f) {\n                            f.applyBatchAfterware.apply(scope, [responseObject, next]);\n                        }\n                    }\n                    else {\n                        resolve(responseObject);\n                    }\n                };\n                next();\n            };\n            queue(_this._afterwares.slice(), _this);\n        });\n    };\n    HTTPBatchedNetworkInterface.prototype.use = function (middlewares) {\n        var _this = this;\n        middlewares.map(function (middleware) {\n            if (typeof middleware.applyBatchMiddleware === 'function') {\n                _this._middlewares.push(middleware);\n            }\n            else {\n                throw new Error('Batch middleware must implement the applyBatchMiddleware function');\n            }\n        });\n        return this;\n    };\n    HTTPBatchedNetworkInterface.prototype.useAfter = function (afterwares) {\n        var _this = this;\n        afterwares.map(function (afterware) {\n            if (typeof afterware.applyBatchAfterware === 'function') {\n                _this._afterwares.push(afterware);\n            }\n            else {\n                throw new Error('Batch afterware must implement the applyBatchAfterware function');\n            }\n        });\n        return this;\n    };\n    HTTPBatchedNetworkInterface.prototype.batchedFetchFromRemoteEndpoint = function (batchRequestAndOptions) {\n        var options = {};\n        assign(options, batchRequestAndOptions.options);\n        var printedRequests = batchRequestAndOptions.requests.map(function (request) {\n            return printRequest(request);\n        });\n        return fetch(this._uri, __assign({}, this._opts, { body: JSON.stringify(printedRequests), method: 'POST' }, options, { headers: __assign({ Accept: '*/*', 'Content-Type': 'application/json' }, options.headers) }));\n    };\n    return HTTPBatchedNetworkInterface;\n}(BaseNetworkInterface));\nexport { HTTPBatchedNetworkInterface };\nexport function createBatchingNetworkInterface(options) {\n    if (!options) {\n        throw new Error('You must pass an options argument to createNetworkInterface.');\n    }\n    return new HTTPBatchedNetworkInterface(options.uri, options.batchInterval, options.opts || {});\n}\n//# sourceMappingURL=batchedNetworkInterface.js.map","export function isQueryResultAction(action) {\n    return action.type === 'APOLLO_QUERY_RESULT';\n}\nexport function isQueryErrorAction(action) {\n    return action.type === 'APOLLO_QUERY_ERROR';\n}\nexport function isQueryInitAction(action) {\n    return action.type === 'APOLLO_QUERY_INIT';\n}\nexport function isQueryResultClientAction(action) {\n    return action.type === 'APOLLO_QUERY_RESULT_CLIENT';\n}\nexport function isQueryStopAction(action) {\n    return action.type === 'APOLLO_QUERY_STOP';\n}\nexport function isMutationInitAction(action) {\n    return action.type === 'APOLLO_MUTATION_INIT';\n}\nexport function isMutationResultAction(action) {\n    return action.type === 'APOLLO_MUTATION_RESULT';\n}\nexport function isMutationErrorAction(action) {\n    return action.type === 'APOLLO_MUTATION_ERROR';\n}\nexport function isUpdateQueryResultAction(action) {\n    return action.type === 'APOLLO_UPDATE_QUERY_RESULT';\n}\nexport function isStoreResetAction(action) {\n    return action.type === 'APOLLO_STORE_RESET';\n}\nexport function isSubscriptionResultAction(action) {\n    return action.type === 'APOLLO_SUBSCRIPTION_RESULT';\n}\nexport function isWriteAction(action) {\n    return action.type === 'APOLLO_WRITE';\n}\n//# sourceMappingURL=actions.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nexport function getMutationDefinition(doc) {\n    checkDocument(doc);\n    var mutationDef = null;\n    doc.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition'\n            && definition.operation === 'mutation') {\n            mutationDef = definition;\n        }\n    });\n    if (!mutationDef) {\n        throw new Error('Must contain a mutation definition.');\n    }\n    return mutationDef;\n}\nexport function checkDocument(doc) {\n    if (doc.kind !== 'Document') {\n        throw new Error(\"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\");\n    }\n    var foundOperation = false;\n    doc.definitions.forEach(function (definition) {\n        switch (definition.kind) {\n            case 'FragmentDefinition':\n                break;\n            case 'OperationDefinition':\n                if (foundOperation) {\n                    throw new Error('Queries must have exactly one operation definition.');\n                }\n                foundOperation = true;\n                break;\n            default:\n                throw new Error(\"Schema type definitions not allowed in queries. Found: \\\"\" + definition.kind + \"\\\"\");\n        }\n    });\n}\nexport function getOperationName(doc) {\n    var res = '';\n    doc.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition' && definition.name) {\n            res = definition.name.value;\n        }\n    });\n    return res;\n}\nexport function getFragmentDefinitions(doc) {\n    var fragmentDefinitions = doc.definitions.filter(function (definition) {\n        if (definition.kind === 'FragmentDefinition') {\n            return true;\n        }\n        else {\n            return false;\n        }\n    });\n    return fragmentDefinitions;\n}\nexport function getQueryDefinition(doc) {\n    checkDocument(doc);\n    var queryDef = null;\n    doc.definitions.map(function (definition) {\n        if (definition.kind === 'OperationDefinition'\n            && definition.operation === 'query') {\n            queryDef = definition;\n        }\n    });\n    if (!queryDef) {\n        throw new Error('Must contain a query definition.');\n    }\n    return queryDef;\n}\nexport function getOperationDefinition(doc) {\n    checkDocument(doc);\n    var opDef = null;\n    doc.definitions.map(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            opDef = definition;\n        }\n    });\n    if (!opDef) {\n        throw new Error('Must contain a query definition.');\n    }\n    return opDef;\n}\nexport function getFragmentDefinition(doc) {\n    if (doc.kind !== 'Document') {\n        throw new Error(\"Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a \\\"gql\\\" tag? http://docs.apollostack.com/apollo-client/core.html#gql\");\n    }\n    if (doc.definitions.length > 1) {\n        throw new Error('Fragment must have exactly one definition.');\n    }\n    var fragmentDef = doc.definitions[0];\n    if (fragmentDef.kind !== 'FragmentDefinition') {\n        throw new Error('Must be a fragment definition.');\n    }\n    return fragmentDef;\n}\nexport function createFragmentMap(fragments) {\n    if (fragments === void 0) { fragments = []; }\n    var symTable = {};\n    fragments.forEach(function (fragment) {\n        symTable[fragment.name.value] = fragment;\n    });\n    return symTable;\n}\nexport function getFragmentQueryDocument(document, fragmentName) {\n    var actualFragmentName = fragmentName;\n    var fragments = [];\n    document.definitions.forEach(function (definition) {\n        if (definition.kind === 'OperationDefinition') {\n            throw new Error(\"Found a \" + definition.operation + \" operation\" + (definition.name ? \" named '\" + definition.name.value + \"'\" : '') + \". \" +\n                'No operations are allowed when using a fragment as a query. Only fragments are allowed.');\n        }\n        if (definition.kind === 'FragmentDefinition') {\n            fragments.push(definition);\n        }\n    });\n    if (typeof actualFragmentName === 'undefined') {\n        if (fragments.length !== 1) {\n            throw new Error(\"Found \" + fragments.length + \" fragments. `fragmentName` must be provided when there is not exactly 1 fragment.\");\n        }\n        actualFragmentName = fragments[0].name.value;\n    }\n    var query = __assign({}, document, { definitions: [\n            {\n                kind: 'OperationDefinition',\n                operation: 'query',\n                selectionSet: {\n                    kind: 'SelectionSet',\n                    selections: [\n                        {\n                            kind: 'FragmentSpread',\n                            name: {\n                                kind: 'Name',\n                                value: actualFragmentName,\n                            },\n                        },\n                    ],\n                },\n            }\n        ].concat(document.definitions) });\n    return query;\n}\n//# sourceMappingURL=getFromAST.js.map","function isStringValue(value) {\n    return value.kind === 'StringValue';\n}\nfunction isBooleanValue(value) {\n    return value.kind === 'BooleanValue';\n}\nfunction isIntValue(value) {\n    return value.kind === 'IntValue';\n}\nfunction isFloatValue(value) {\n    return value.kind === 'FloatValue';\n}\nfunction isVariable(value) {\n    return value.kind === 'Variable';\n}\nfunction isObjectValue(value) {\n    return value.kind === 'ObjectValue';\n}\nfunction isListValue(value) {\n    return value.kind === 'ListValue';\n}\nfunction isEnumValue(value) {\n    return value.kind === 'EnumValue';\n}\nfunction valueToObjectRepresentation(argObj, name, value, variables) {\n    if (isIntValue(value) || isFloatValue(value)) {\n        argObj[name.value] = Number(value.value);\n    }\n    else if (isBooleanValue(value) || isStringValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else if (isObjectValue(value)) {\n        var nestedArgObj_1 = {};\n        value.fields.map(function (obj) { return valueToObjectRepresentation(nestedArgObj_1, obj.name, obj.value, variables); });\n        argObj[name.value] = nestedArgObj_1;\n    }\n    else if (isVariable(value)) {\n        var variableValue = (variables || {})[value.name.value];\n        argObj[name.value] = variableValue;\n    }\n    else if (isListValue(value)) {\n        argObj[name.value] = value.values.map(function (listValue) {\n            var nestedArgArrayObj = {};\n            valueToObjectRepresentation(nestedArgArrayObj, name, listValue, variables);\n            return nestedArgArrayObj[name.value];\n        });\n    }\n    else if (isEnumValue(value)) {\n        argObj[name.value] = value.value;\n    }\n    else {\n        throw new Error(\"The inline argument \\\"\" + name.value + \"\\\" of kind \\\"\" + value.kind + \"\\\" is not supported.\\n                    Use variables instead of inline arguments to overcome this limitation.\");\n    }\n}\nexport function storeKeyNameFromField(field, variables) {\n    if (field.arguments && field.arguments.length) {\n        var argObj_1 = {};\n        field.arguments.forEach(function (_a) {\n            var name = _a.name, value = _a.value;\n            return valueToObjectRepresentation(argObj_1, name, value, variables);\n        });\n        return storeKeyNameFromFieldNameAndArgs(field.name.value, argObj_1);\n    }\n    return field.name.value;\n}\nexport function storeKeyNameFromFieldNameAndArgs(fieldName, args) {\n    if (args) {\n        var stringifiedArgs = JSON.stringify(args);\n        return fieldName + \"(\" + stringifiedArgs + \")\";\n    }\n    return fieldName;\n}\nexport function resultKeyNameFromField(field) {\n    return field.alias ?\n        field.alias.value :\n        field.name.value;\n}\nexport function isField(selection) {\n    return selection.kind === 'Field';\n}\nexport function isInlineFragment(selection) {\n    return selection.kind === 'InlineFragment';\n}\nexport function graphQLResultHasError(result) {\n    return result.errors && result.errors.length;\n}\nexport function isIdValue(idObject) {\n    return (idObject != null &&\n        typeof idObject === 'object' &&\n        idObject.type === 'id');\n}\nexport function toIdValue(id, generated) {\n    if (generated === void 0) { generated = false; }\n    return {\n        type: 'id',\n        id: id,\n        generated: generated,\n    };\n}\nexport function isJsonValue(jsonObject) {\n    return (jsonObject != null &&\n        typeof jsonObject === 'object' &&\n        jsonObject.type === 'json');\n}\n//# sourceMappingURL=storeUtils.js.map","export function shouldInclude(selection, variables) {\n    if (variables === void 0) { variables = {}; }\n    if (!selection.directives) {\n        return true;\n    }\n    var res = true;\n    selection.directives.forEach(function (directive) {\n        if (directive.name.value !== 'skip' && directive.name.value !== 'include') {\n            return;\n        }\n        var directiveArguments = directive.arguments || [];\n        var directiveName = directive.name.value;\n        if (directiveArguments.length !== 1) {\n            throw new Error(\"Incorrect number of arguments for the @\" + directiveName + \" directive.\");\n        }\n        var ifArgument = directiveArguments[0];\n        if (!ifArgument.name || ifArgument.name.value !== 'if') {\n            throw new Error(\"Invalid argument for the @\" + directiveName + \" directive.\");\n        }\n        var ifValue = directiveArguments[0].value;\n        var evaledValue = false;\n        if (!ifValue || ifValue.kind !== 'BooleanValue') {\n            if (ifValue.kind !== 'Variable') {\n                throw new Error(\"Argument for the @\" + directiveName + \" directive must be a variable or a bool ean value.\");\n            }\n            else {\n                evaledValue = variables[ifValue.name.value];\n                if (evaledValue === undefined) {\n                    throw new Error(\"Invalid variable referenced in @\" + directiveName + \" directive.\");\n                }\n            }\n        }\n        else {\n            evaledValue = ifValue.value;\n        }\n        if (directiveName === 'skip') {\n            evaledValue = !evaledValue;\n        }\n        if (!evaledValue) {\n            res = false;\n        }\n    });\n    return res;\n}\n//# sourceMappingURL=directives.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { getOperationDefinition, getQueryDefinition, getFragmentDefinitions, createFragmentMap, } from '../queries/getFromAST';\nimport { storeKeyNameFromField, resultKeyNameFromField, isField, isInlineFragment, } from './storeUtils';\nimport { isIdValue, } from './storeUtils';\nimport { shouldInclude, } from '../queries/directives';\nexport function writeQueryToStore(_a) {\n    var result = _a.result, query = _a.query, _b = _a.store, store = _b === void 0 ? {} : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject, _c = _a.fragmentMap, fragmentMap = _c === void 0 ? {} : _c;\n    var queryDefinition = getQueryDefinition(query);\n    return writeSelectionSetToStore({\n        dataId: 'ROOT_QUERY',\n        result: result,\n        selectionSet: queryDefinition.selectionSet,\n        context: {\n            store: store,\n            variables: variables,\n            dataIdFromObject: dataIdFromObject,\n            fragmentMap: fragmentMap,\n        },\n    });\n}\nexport function writeResultToStore(_a) {\n    var result = _a.result, dataId = _a.dataId, document = _a.document, _b = _a.store, store = _b === void 0 ? {} : _b, variables = _a.variables, dataIdFromObject = _a.dataIdFromObject;\n    var selectionSet = getOperationDefinition(document).selectionSet;\n    var fragmentMap = createFragmentMap(getFragmentDefinitions(document));\n    return writeSelectionSetToStore({\n        result: result,\n        dataId: dataId,\n        selectionSet: selectionSet,\n        context: {\n            store: store,\n            variables: variables,\n            dataIdFromObject: dataIdFromObject,\n            fragmentMap: fragmentMap,\n        },\n    });\n}\nexport function writeSelectionSetToStore(_a) {\n    var result = _a.result, dataId = _a.dataId, selectionSet = _a.selectionSet, context = _a.context;\n    var variables = context.variables, store = context.store, dataIdFromObject = context.dataIdFromObject, fragmentMap = context.fragmentMap;\n    selectionSet.selections.forEach(function (selection) {\n        var included = shouldInclude(selection, variables);\n        if (isField(selection)) {\n            var resultFieldKey = resultKeyNameFromField(selection);\n            var value = result[resultFieldKey];\n            if (value !== undefined) {\n                writeFieldToStore({\n                    dataId: dataId,\n                    value: value,\n                    field: selection,\n                    context: context,\n                });\n            }\n        }\n        else if (isInlineFragment(selection)) {\n            if (included) {\n                writeSelectionSetToStore({\n                    result: result,\n                    selectionSet: selection.selectionSet,\n                    dataId: dataId,\n                    context: context,\n                });\n            }\n        }\n        else {\n            var fragment = void 0;\n            if (isInlineFragment(selection)) {\n                fragment = selection;\n            }\n            else {\n                fragment = (fragmentMap || {})[selection.name.value];\n                if (!fragment) {\n                    throw new Error(\"No fragment named \" + selection.name.value + \".\");\n                }\n            }\n            if (included) {\n                writeSelectionSetToStore({\n                    result: result,\n                    selectionSet: fragment.selectionSet,\n                    dataId: dataId,\n                    context: context,\n                });\n            }\n        }\n    });\n    return store;\n}\nfunction isGeneratedId(id) {\n    return (id[0] === '$');\n}\nfunction mergeWithGenerated(generatedKey, realKey, cache) {\n    var generated = cache[generatedKey];\n    var real = cache[realKey];\n    Object.keys(generated).forEach(function (key) {\n        var value = generated[key];\n        var realValue = real[key];\n        if (isIdValue(value)\n            && isGeneratedId(value.id)\n            && isIdValue(realValue)) {\n            mergeWithGenerated(value.id, realValue.id, cache);\n        }\n        delete cache[generatedKey];\n        cache[realKey] = __assign({}, generated, real);\n    });\n}\nfunction writeFieldToStore(_a) {\n    var field = _a.field, value = _a.value, dataId = _a.dataId, context = _a.context;\n    var variables = context.variables, dataIdFromObject = context.dataIdFromObject, store = context.store, fragmentMap = context.fragmentMap;\n    var storeValue;\n    var storeFieldName = storeKeyNameFromField(field, variables);\n    var shouldMerge = false;\n    var generatedKey = '';\n    if (!field.selectionSet || value === null) {\n        storeValue =\n            value != null && typeof value === 'object'\n                ? { type: 'json', json: value }\n                : value;\n    }\n    else if (Array.isArray(value)) {\n        var generatedId = dataId + \".\" + storeFieldName;\n        storeValue = processArrayValue(value, generatedId, field.selectionSet, context);\n    }\n    else {\n        var valueDataId = dataId + \".\" + storeFieldName;\n        var generated = true;\n        if (!isGeneratedId(valueDataId)) {\n            valueDataId = '$' + valueDataId;\n        }\n        if (dataIdFromObject) {\n            var semanticId = dataIdFromObject(value);\n            if (semanticId && isGeneratedId(semanticId)) {\n                throw new Error('IDs returned by dataIdFromObject cannot begin with the \"$\" character.');\n            }\n            if (semanticId) {\n                valueDataId = semanticId;\n                generated = false;\n            }\n        }\n        writeSelectionSetToStore({\n            dataId: valueDataId,\n            result: value,\n            selectionSet: field.selectionSet,\n            context: context,\n        });\n        storeValue = {\n            type: 'id',\n            id: valueDataId,\n            generated: generated,\n        };\n        if (store[dataId] && store[dataId][storeFieldName] !== storeValue) {\n            var escapedId = store[dataId][storeFieldName];\n            if (isIdValue(storeValue) && storeValue.generated\n                && isIdValue(escapedId) && !escapedId.generated) {\n                throw new Error(\"Store error: the application attempted to write an object with no provided id\" +\n                    (\" but the store already contains an id of \" + escapedId.id + \" for this object.\"));\n            }\n            if (isIdValue(escapedId) && escapedId.generated) {\n                generatedKey = escapedId.id;\n                shouldMerge = true;\n            }\n        }\n    }\n    var newStoreObj = __assign({}, store[dataId], (_b = {}, _b[storeFieldName] = storeValue, _b));\n    if (shouldMerge) {\n        mergeWithGenerated(generatedKey, storeValue.id, store);\n    }\n    if (!store[dataId] || storeValue !== store[dataId][storeFieldName]) {\n        store[dataId] = newStoreObj;\n    }\n    var _b;\n}\nfunction processArrayValue(value, generatedId, selectionSet, context) {\n    return value.map(function (item, index) {\n        if (item === null) {\n            return null;\n        }\n        var itemDataId = generatedId + \".\" + index;\n        if (Array.isArray(item)) {\n            return processArrayValue(item, itemDataId, selectionSet, context);\n        }\n        var generated = true;\n        if (context.dataIdFromObject) {\n            var semanticId = context.dataIdFromObject(item);\n            if (semanticId) {\n                itemDataId = semanticId;\n                generated = false;\n            }\n        }\n        writeSelectionSetToStore({\n            dataId: itemDataId,\n            result: item,\n            selectionSet: selectionSet,\n            context: context,\n        });\n        var idStoreValue = {\n            type: 'id',\n            id: itemDataId,\n            generated: generated,\n        };\n        return idStoreValue;\n    });\n}\n//# sourceMappingURL=writeToStore.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { isMutationInitAction, isMutationResultAction, isMutationErrorAction, } from '../actions';\nimport { data, } from '../data/store';\nimport { assign } from '../util/assign';\nvar optimisticDefaultState = [];\nexport function getDataWithOptimisticResults(store) {\n    if (store.optimistic.length === 0) {\n        return store.data;\n    }\n    var patches = store.optimistic.map(function (opt) { return opt.data; });\n    return assign.apply(void 0, [{}, store.data].concat(patches));\n}\nexport function optimistic(previousState, action, store, config) {\n    if (previousState === void 0) { previousState = optimisticDefaultState; }\n    if (isMutationInitAction(action) && action.optimisticResponse) {\n        var fakeMutationResultAction = {\n            type: 'APOLLO_MUTATION_RESULT',\n            result: { data: action.optimisticResponse },\n            document: action.mutation,\n            operationName: action.operationName,\n            variables: action.variables,\n            mutationId: action.mutationId,\n            extraReducers: action.extraReducers,\n            updateQueries: action.updateQueries,\n            update: action.update,\n        };\n        var optimisticData = getDataWithOptimisticResults(__assign({}, store, { optimistic: previousState }));\n        var patch = getOptimisticDataPatch(optimisticData, fakeMutationResultAction, store.queries, store.mutations, config);\n        var optimisticState = {\n            action: fakeMutationResultAction,\n            data: patch,\n            mutationId: action.mutationId,\n        };\n        var newState = previousState.concat([optimisticState]);\n        return newState;\n    }\n    else if ((isMutationErrorAction(action) || isMutationResultAction(action))\n        && previousState.some(function (change) { return change.mutationId === action.mutationId; })) {\n        return rollbackOptimisticData(function (change) { return change.mutationId === action.mutationId; }, previousState, store, config);\n    }\n    return previousState;\n}\nfunction getOptimisticDataPatch(previousData, optimisticAction, queries, mutations, config) {\n    var optimisticData = data(previousData, optimisticAction, queries, mutations, config);\n    var patch = {};\n    Object.keys(optimisticData).forEach(function (key) {\n        if (optimisticData[key] !== previousData[key]) {\n            patch[key] = optimisticData[key];\n        }\n    });\n    return patch;\n}\nfunction rollbackOptimisticData(filterFn, previousState, store, config) {\n    if (previousState === void 0) { previousState = optimisticDefaultState; }\n    var optimisticData = assign({}, store.data);\n    var newState = previousState\n        .filter(function (item) { return !filterFn(item); })\n        .map(function (change) {\n        var patch = getOptimisticDataPatch(optimisticData, change.action, store.queries, store.mutations, config);\n        assign(optimisticData, patch);\n        return __assign({}, change, { data: patch });\n    });\n    return newState;\n}\n//# sourceMappingURL=store.js.map","export function isEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (a != null && typeof a === 'object' && b != null && typeof b === 'object') {\n        for (var key in a) {\n            if (a.hasOwnProperty(key)) {\n                if (!b.hasOwnProperty(key)) {\n                    return false;\n                }\n                if (!isEqual(a[key], b[key])) {\n                    return false;\n                }\n            }\n        }\n        for (var key in b) {\n            if (!a.hasOwnProperty(key)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    return false;\n}\n//# sourceMappingURL=isEqual.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport graphqlAnywhere from 'graphql-anywhere';\nimport { isJsonValue, isIdValue, } from './storeUtils';\nimport { storeKeyNameFromFieldNameAndArgs, } from './storeUtils';\nimport { getQueryDefinition, } from '../queries/getFromAST';\nimport { isEqual, } from '../util/isEqual';\nexport var ID_KEY = typeof Symbol !== 'undefined' ? Symbol('id') : '@@id';\nexport function readQueryFromStore(options) {\n    var optsPatch = { returnPartialData: false };\n    return diffQueryAgainstStore(__assign({}, options, optsPatch)).result;\n}\nvar readStoreResolver = function (fieldName, idValue, args, context, _a) {\n    var resultKey = _a.resultKey;\n    assertIdValue(idValue);\n    var objId = idValue.id;\n    var obj = context.store[objId];\n    var storeKeyName = storeKeyNameFromFieldNameAndArgs(fieldName, args);\n    var fieldValue = (obj || {})[storeKeyName];\n    if (typeof fieldValue === 'undefined') {\n        if (context.customResolvers && obj && (obj.__typename || objId === 'ROOT_QUERY')) {\n            var typename = obj.__typename || 'Query';\n            var type = context.customResolvers[typename];\n            if (type) {\n                var resolver = type[fieldName];\n                if (resolver) {\n                    return resolver(obj, args);\n                }\n            }\n        }\n        if (!context.returnPartialData) {\n            throw new Error(\"Can't find field \" + storeKeyName + \" on object (\" + objId + \") \" + JSON.stringify(obj, null, 2) + \".\");\n        }\n        context.hasMissingField = true;\n        return fieldValue;\n    }\n    if (isJsonValue(fieldValue)) {\n        if (idValue.previousResult && isEqual(idValue.previousResult[resultKey], fieldValue.json)) {\n            return idValue.previousResult[resultKey];\n        }\n        return fieldValue.json;\n    }\n    if (idValue.previousResult) {\n        fieldValue = addPreviousResultToIdValues(fieldValue, idValue.previousResult[resultKey]);\n    }\n    return fieldValue;\n};\nexport function diffQueryAgainstStore(_a) {\n    var store = _a.store, query = _a.query, variables = _a.variables, previousResult = _a.previousResult, _b = _a.returnPartialData, returnPartialData = _b === void 0 ? true : _b, _c = _a.rootId, rootId = _c === void 0 ? 'ROOT_QUERY' : _c, fragmentMatcherFunction = _a.fragmentMatcherFunction, config = _a.config;\n    getQueryDefinition(query);\n    var context = {\n        store: store,\n        returnPartialData: returnPartialData,\n        customResolvers: (config && config.customResolvers) || {},\n        hasMissingField: false,\n    };\n    var rootIdValue = {\n        type: 'id',\n        id: rootId,\n        previousResult: previousResult,\n    };\n    var result = graphqlAnywhere(readStoreResolver, query, rootIdValue, context, variables, {\n        fragmentMatcher: fragmentMatcherFunction,\n        resultMapper: resultMapper,\n    });\n    return {\n        result: result,\n        isMissing: context.hasMissingField,\n    };\n}\nexport function assertIdValue(idValue) {\n    if (!isIdValue(idValue)) {\n        throw new Error(\"Encountered a sub-selection on the query, but the store doesn't have an object reference. This should never happen during normal use unless you have custom code that is directly manipulating the store; please file an issue.\");\n    }\n}\nfunction addPreviousResultToIdValues(value, previousResult) {\n    if (isIdValue(value)) {\n        return __assign({}, value, { previousResult: previousResult });\n    }\n    else if (Array.isArray(value)) {\n        var idToPreviousResult_1 = {};\n        if (Array.isArray(previousResult)) {\n            previousResult.forEach(function (item) {\n                if (item[ID_KEY]) {\n                    idToPreviousResult_1[item[ID_KEY]] = item;\n                }\n            });\n        }\n        return value.map(function (item, i) {\n            var itemPreviousResult = previousResult && previousResult[i];\n            if (isIdValue(item)) {\n                itemPreviousResult = idToPreviousResult_1[item.id] || itemPreviousResult;\n            }\n            return addPreviousResultToIdValues(item, itemPreviousResult);\n        });\n    }\n    return value;\n}\nfunction resultMapper(resultFields, idValue) {\n    if (idValue.previousResult) {\n        var currentResultKeys_1 = Object.keys(resultFields);\n        var sameAsPreviousResult = Object.keys(idValue.previousResult)\n            .reduce(function (sameKeys, key) { return sameKeys && currentResultKeys_1.indexOf(key) > -1; }, true) &&\n            currentResultKeys_1.reduce(function (same, key) { return (same && areNestedArrayItemsStrictlyEqual(resultFields[key], idValue.previousResult[key])); }, true);\n        if (sameAsPreviousResult) {\n            return idValue.previousResult;\n        }\n    }\n    Object.defineProperty(resultFields, ID_KEY, {\n        enumerable: false,\n        configurable: false,\n        writable: false,\n        value: idValue.id,\n    });\n    return resultFields;\n}\nfunction areNestedArrayItemsStrictlyEqual(a, b) {\n    if (a === b) {\n        return true;\n    }\n    if (!Array.isArray(a) || !Array.isArray(b) || a.length !== b.length) {\n        return false;\n    }\n    return a.reduce(function (same, item, i) { return same && areNestedArrayItemsStrictlyEqual(item, b[i]); }, true);\n}\n//# sourceMappingURL=readFromStore.js.map","export function cloneDeep(value) {\n    if (Array.isArray(value)) {\n        return value.map(function (item) { return cloneDeep(item); });\n    }\n    if (value !== null && typeof value === 'object') {\n        var nextValue = {};\n        for (var key in value) {\n            if (value.hasOwnProperty(key)) {\n                nextValue[key] = cloneDeep(value[key]);\n            }\n        }\n        return nextValue;\n    }\n    return value;\n}\n//# sourceMappingURL=cloneDeep.js.map","import { checkDocument, } from './getFromAST';\nimport { cloneDeep } from '../util/cloneDeep';\nvar TYPENAME_FIELD = {\n    kind: 'Field',\n    name: {\n        kind: 'Name',\n        value: '__typename',\n    },\n};\nfunction addTypenameToSelectionSet(selectionSet, isRoot) {\n    if (isRoot === void 0) { isRoot = false; }\n    if (selectionSet.selections) {\n        if (!isRoot) {\n            var alreadyHasThisField = selectionSet.selections.some(function (selection) {\n                return selection.kind === 'Field' && selection.name.value === '__typename';\n            });\n            if (!alreadyHasThisField) {\n                selectionSet.selections.push(TYPENAME_FIELD);\n            }\n        }\n        selectionSet.selections.forEach(function (selection) {\n            if (selection.kind === 'Field') {\n                if (selection.name.value.lastIndexOf('__', 0) !== 0 && selection.selectionSet) {\n                    addTypenameToSelectionSet(selection.selectionSet);\n                }\n            }\n            else if (selection.kind === 'InlineFragment') {\n                if (selection.selectionSet) {\n                    addTypenameToSelectionSet(selection.selectionSet);\n                }\n            }\n        });\n    }\n}\nexport function addTypenameToDocument(doc) {\n    checkDocument(doc);\n    var docClone = cloneDeep(doc);\n    docClone.definitions.forEach(function (definition) {\n        var isRoot = definition.kind === 'OperationDefinition';\n        addTypenameToSelectionSet(definition.selectionSet, isRoot);\n    });\n    return docClone;\n}\n//# sourceMappingURL=queryTransform.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { getFragmentQueryDocument } from '../queries/getFromAST';\nimport { getDataWithOptimisticResults } from '../optimistic-data/store';\nimport { readQueryFromStore } from './readFromStore';\nimport { writeResultToStore } from './writeToStore';\nimport { addTypenameToDocument } from '../queries/queryTransform';\nvar ReduxDataProxy = (function () {\n    function ReduxDataProxy(store, reduxRootSelector, fragmentMatcher, reducerConfig) {\n        this.store = store;\n        this.reduxRootSelector = reduxRootSelector;\n        this.reducerConfig = reducerConfig;\n        this.fragmentMatcher = fragmentMatcher;\n    }\n    ReduxDataProxy.prototype.readQuery = function (_a) {\n        var query = _a.query, variables = _a.variables;\n        if (this.reducerConfig.addTypename) {\n            query = addTypenameToDocument(query);\n        }\n        return readQueryFromStore({\n            rootId: 'ROOT_QUERY',\n            store: getDataWithOptimisticResults(this.reduxRootSelector(this.store.getState())),\n            query: query,\n            variables: variables,\n            fragmentMatcherFunction: this.fragmentMatcher.match,\n            config: this.reducerConfig,\n        });\n    };\n    ReduxDataProxy.prototype.readFragment = function (_a) {\n        var id = _a.id, fragment = _a.fragment, fragmentName = _a.fragmentName, variables = _a.variables;\n        var query = getFragmentQueryDocument(fragment, fragmentName);\n        var data = getDataWithOptimisticResults(this.reduxRootSelector(this.store.getState()));\n        if (typeof data[id] === 'undefined') {\n            return null;\n        }\n        if (this.reducerConfig.addTypename) {\n            query = addTypenameToDocument(query);\n        }\n        return readQueryFromStore({\n            rootId: id,\n            store: data,\n            query: query,\n            variables: variables,\n            fragmentMatcherFunction: this.fragmentMatcher.match,\n            config: this.reducerConfig,\n        });\n    };\n    ReduxDataProxy.prototype.writeQuery = function (_a) {\n        var data = _a.data, query = _a.query, variables = _a.variables;\n        if (this.reducerConfig.addTypename) {\n            query = addTypenameToDocument(query);\n        }\n        this.store.dispatch({\n            type: 'APOLLO_WRITE',\n            writes: [{\n                    rootId: 'ROOT_QUERY',\n                    result: data,\n                    document: query,\n                    variables: variables || {},\n                }],\n        });\n    };\n    ReduxDataProxy.prototype.writeFragment = function (_a) {\n        var data = _a.data, id = _a.id, fragment = _a.fragment, fragmentName = _a.fragmentName, variables = _a.variables;\n        var document = getFragmentQueryDocument(fragment, fragmentName);\n        if (this.reducerConfig.addTypename) {\n            document = addTypenameToDocument(document);\n        }\n        this.store.dispatch({\n            type: 'APOLLO_WRITE',\n            writes: [{\n                    rootId: id,\n                    result: data,\n                    document: document,\n                    variables: variables || {},\n                }],\n        });\n    };\n    return ReduxDataProxy;\n}());\nexport { ReduxDataProxy };\nvar TransactionDataProxy = (function () {\n    function TransactionDataProxy(data, reducerConfig) {\n        this.data = __assign({}, data);\n        this.reducerConfig = reducerConfig;\n        this.writes = [];\n        this.isFinished = false;\n    }\n    TransactionDataProxy.prototype.finish = function () {\n        this.assertNotFinished();\n        var writes = this.writes;\n        this.writes = [];\n        this.isFinished = true;\n        return writes;\n    };\n    TransactionDataProxy.prototype.readQuery = function (_a) {\n        var query = _a.query, variables = _a.variables;\n        this.assertNotFinished();\n        if (this.reducerConfig.addTypename) {\n            query = addTypenameToDocument(query);\n        }\n        return readQueryFromStore({\n            rootId: 'ROOT_QUERY',\n            store: this.data,\n            query: query,\n            variables: variables,\n            config: this.reducerConfig,\n            fragmentMatcherFunction: this.reducerConfig.fragmentMatcher,\n        });\n    };\n    TransactionDataProxy.prototype.readFragment = function (_a) {\n        var id = _a.id, fragment = _a.fragment, fragmentName = _a.fragmentName, variables = _a.variables;\n        this.assertNotFinished();\n        var data = this.data;\n        var query = getFragmentQueryDocument(fragment, fragmentName);\n        if (this.reducerConfig.addTypename) {\n            query = addTypenameToDocument(query);\n        }\n        if (typeof data[id] === 'undefined') {\n            return null;\n        }\n        return readQueryFromStore({\n            rootId: id,\n            store: data,\n            query: query,\n            variables: variables,\n            config: this.reducerConfig,\n            fragmentMatcherFunction: this.reducerConfig.fragmentMatcher,\n        });\n    };\n    TransactionDataProxy.prototype.writeQuery = function (_a) {\n        var data = _a.data, query = _a.query, variables = _a.variables;\n        this.assertNotFinished();\n        if (this.reducerConfig.addTypename) {\n            query = addTypenameToDocument(query);\n        }\n        this.applyWrite({\n            rootId: 'ROOT_QUERY',\n            result: data,\n            document: query,\n            variables: variables || {},\n        });\n    };\n    TransactionDataProxy.prototype.writeFragment = function (_a) {\n        var data = _a.data, id = _a.id, fragment = _a.fragment, fragmentName = _a.fragmentName, variables = _a.variables;\n        this.assertNotFinished();\n        var query = getFragmentQueryDocument(fragment, fragmentName);\n        if (this.reducerConfig.addTypename) {\n            query = addTypenameToDocument(query);\n        }\n        this.applyWrite({\n            rootId: id,\n            result: data,\n            document: query,\n            variables: variables || {},\n        });\n    };\n    TransactionDataProxy.prototype.assertNotFinished = function () {\n        if (this.isFinished) {\n            throw new Error('Cannot call transaction methods after the transaction has finished.');\n        }\n    };\n    TransactionDataProxy.prototype.applyWrite = function (write) {\n        writeResultToStore({\n            result: write.result,\n            dataId: write.rootId,\n            document: write.document,\n            variables: write.variables,\n            store: this.data,\n            dataIdFromObject: this.reducerConfig.dataIdFromObject || (function () { return null; }),\n        });\n        this.writes.push(write);\n    };\n    return TransactionDataProxy;\n}());\nexport { TransactionDataProxy };\n//# sourceMappingURL=proxy.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { writeResultToStore, } from './writeToStore';\nexport function replaceQueryResults(state, _a, config) {\n    var variables = _a.variables, document = _a.document, newResult = _a.newResult;\n    var clonedState = __assign({}, state);\n    return writeResultToStore({\n        result: newResult,\n        dataId: 'ROOT_QUERY',\n        variables: variables,\n        document: document,\n        store: clonedState,\n        dataIdFromObject: config.dataIdFromObject,\n    });\n}\n//# sourceMappingURL=replaceQueryResults.js.map","export function tryFunctionOrLogError(f) {\n    try {\n        return f();\n    }\n    catch (e) {\n        if (console.error) {\n            console.error(e);\n        }\n    }\n}\n//# sourceMappingURL=errorHandling.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { isQueryResultAction, isMutationResultAction, isUpdateQueryResultAction, isStoreResetAction, isSubscriptionResultAction, isWriteAction, } from '../actions';\nimport { writeResultToStore, } from './writeToStore';\nimport { TransactionDataProxy, } from '../data/proxy';\nimport { getOperationName, } from '../queries/getFromAST';\nimport { graphQLResultHasError, } from './storeUtils';\nimport { replaceQueryResults, } from './replaceQueryResults';\nimport { diffQueryAgainstStore, } from './readFromStore';\nimport { tryFunctionOrLogError, } from '../util/errorHandling';\nexport function data(previousState, action, queries, mutations, config) {\n    if (previousState === void 0) { previousState = {}; }\n    var constAction = action;\n    if (isQueryResultAction(action)) {\n        if (!queries[action.queryId]) {\n            return previousState;\n        }\n        if (action.requestId < queries[action.queryId].lastRequestId) {\n            return previousState;\n        }\n        if (!graphQLResultHasError(action.result)) {\n            var queryStoreValue = queries[action.queryId];\n            var clonedState = __assign({}, previousState);\n            var newState_1 = writeResultToStore({\n                result: action.result.data,\n                dataId: 'ROOT_QUERY',\n                document: action.document,\n                variables: queryStoreValue.variables,\n                store: clonedState,\n                dataIdFromObject: config.dataIdFromObject,\n            });\n            if (action.extraReducers) {\n                action.extraReducers.forEach(function (reducer) {\n                    newState_1 = reducer(newState_1, constAction);\n                });\n            }\n            return newState_1;\n        }\n    }\n    else if (isSubscriptionResultAction(action)) {\n        if (!graphQLResultHasError(action.result)) {\n            var clonedState = __assign({}, previousState);\n            var newState_2 = writeResultToStore({\n                result: action.result.data,\n                dataId: 'ROOT_SUBSCRIPTION',\n                document: action.document,\n                variables: action.variables,\n                store: clonedState,\n                dataIdFromObject: config.dataIdFromObject,\n            });\n            if (action.extraReducers) {\n                action.extraReducers.forEach(function (reducer) {\n                    newState_2 = reducer(newState_2, constAction);\n                });\n            }\n            return newState_2;\n        }\n    }\n    else if (isMutationResultAction(constAction)) {\n        if (!constAction.result.errors) {\n            var queryStoreValue = mutations[constAction.mutationId];\n            var clonedState = __assign({}, previousState);\n            var newState_3 = writeResultToStore({\n                result: constAction.result.data,\n                dataId: 'ROOT_MUTATION',\n                document: constAction.document,\n                variables: queryStoreValue.variables,\n                store: clonedState,\n                dataIdFromObject: config.dataIdFromObject,\n            });\n            var updateQueries_1 = constAction.updateQueries;\n            if (updateQueries_1) {\n                Object.keys(updateQueries_1).forEach(function (queryId) {\n                    var query = queries[queryId];\n                    if (!query) {\n                        return;\n                    }\n                    var _a = diffQueryAgainstStore({\n                        store: previousState,\n                        query: query.document,\n                        variables: query.variables,\n                        returnPartialData: true,\n                        fragmentMatcherFunction: config.fragmentMatcher,\n                        config: config,\n                    }), currentQueryResult = _a.result, isMissing = _a.isMissing;\n                    if (isMissing) {\n                        return;\n                    }\n                    var reducer = updateQueries_1[queryId];\n                    var nextQueryResult = tryFunctionOrLogError(function () { return reducer(currentQueryResult, {\n                        mutationResult: constAction.result,\n                        queryName: getOperationName(query.document),\n                        queryVariables: query.variables,\n                    }); });\n                    if (nextQueryResult) {\n                        newState_3 = writeResultToStore({\n                            result: nextQueryResult,\n                            dataId: 'ROOT_QUERY',\n                            document: query.document,\n                            variables: query.variables,\n                            store: newState_3,\n                            dataIdFromObject: config.dataIdFromObject,\n                        });\n                    }\n                });\n            }\n            if (constAction.update) {\n                var update_1 = constAction.update;\n                var proxy_1 = new TransactionDataProxy(newState_3, config);\n                tryFunctionOrLogError(function () { return update_1(proxy_1, constAction.result); });\n                var writes = proxy_1.finish();\n                newState_3 = data(newState_3, { type: 'APOLLO_WRITE', writes: writes }, queries, mutations, config);\n            }\n            if (constAction.extraReducers) {\n                constAction.extraReducers.forEach(function (reducer) {\n                    newState_3 = reducer(newState_3, constAction);\n                });\n            }\n            return newState_3;\n        }\n    }\n    else if (isUpdateQueryResultAction(constAction)) {\n        return replaceQueryResults(previousState, constAction, config);\n    }\n    else if (isStoreResetAction(action)) {\n        return {};\n    }\n    else if (isWriteAction(action)) {\n        return action.writes.reduce(function (currentState, write) { return writeResultToStore({\n            result: write.result,\n            dataId: write.rootId,\n            document: write.document,\n            variables: write.variables,\n            store: currentState,\n            dataIdFromObject: config.dataIdFromObject,\n        }); }, __assign({}, previousState));\n    }\n    return previousState;\n}\n//# sourceMappingURL=store.js.map","export var NetworkStatus;\n(function (NetworkStatus) {\n    NetworkStatus[NetworkStatus[\"loading\"] = 1] = \"loading\";\n    NetworkStatus[NetworkStatus[\"setVariables\"] = 2] = \"setVariables\";\n    NetworkStatus[NetworkStatus[\"fetchMore\"] = 3] = \"fetchMore\";\n    NetworkStatus[NetworkStatus[\"refetch\"] = 4] = \"refetch\";\n    NetworkStatus[NetworkStatus[\"poll\"] = 6] = \"poll\";\n    NetworkStatus[NetworkStatus[\"ready\"] = 7] = \"ready\";\n    NetworkStatus[NetworkStatus[\"error\"] = 8] = \"error\";\n})(NetworkStatus || (NetworkStatus = {}));\nexport function isNetworkRequestInFlight(networkStatus) {\n    return networkStatus < 7;\n}\n//# sourceMappingURL=networkStatus.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { isQueryInitAction, isQueryResultAction, isQueryErrorAction, isQueryResultClientAction, isQueryStopAction, isStoreResetAction, } from '../actions';\nimport { graphQLResultHasError, } from '../data/storeUtils';\nimport { isEqual } from '../util/isEqual';\nimport { NetworkStatus } from './networkStatus';\nexport function queries(previousState, action) {\n    if (previousState === void 0) { previousState = {}; }\n    if (isQueryInitAction(action)) {\n        var newState = __assign({}, previousState);\n        var previousQuery = previousState[action.queryId];\n        if (previousQuery && previousQuery.queryString !== action.queryString) {\n            throw new Error('Internal Error: may not update existing query string in store');\n        }\n        var isSetVariables = false;\n        var previousVariables = null;\n        if (action.storePreviousVariables &&\n            previousQuery &&\n            previousQuery.networkStatus !== NetworkStatus.loading) {\n            if (!isEqual(previousQuery.variables, action.variables)) {\n                isSetVariables = true;\n                previousVariables = previousQuery.variables;\n            }\n        }\n        var newNetworkStatus = NetworkStatus.loading;\n        if (isSetVariables) {\n            newNetworkStatus = NetworkStatus.setVariables;\n        }\n        else if (action.isPoll) {\n            newNetworkStatus = NetworkStatus.poll;\n        }\n        else if (action.isRefetch) {\n            newNetworkStatus = NetworkStatus.refetch;\n        }\n        else if (action.isPoll) {\n            newNetworkStatus = NetworkStatus.poll;\n        }\n        newState[action.queryId] = {\n            queryString: action.queryString,\n            document: action.document,\n            variables: action.variables,\n            previousVariables: previousVariables,\n            networkError: null,\n            graphQLErrors: [],\n            networkStatus: newNetworkStatus,\n            lastRequestId: action.requestId,\n            metadata: action.metadata,\n        };\n        if (typeof action.fetchMoreForQueryId === 'string') {\n            newState[action.fetchMoreForQueryId] = __assign({}, previousState[action.fetchMoreForQueryId], { networkStatus: NetworkStatus.fetchMore });\n        }\n        return newState;\n    }\n    else if (isQueryResultAction(action)) {\n        if (!previousState[action.queryId]) {\n            return previousState;\n        }\n        if (action.requestId < previousState[action.queryId].lastRequestId) {\n            return previousState;\n        }\n        var newState = __assign({}, previousState);\n        var resultHasGraphQLErrors = graphQLResultHasError(action.result);\n        newState[action.queryId] = __assign({}, previousState[action.queryId], { networkError: null, graphQLErrors: resultHasGraphQLErrors ? action.result.errors : [], previousVariables: null, networkStatus: NetworkStatus.ready });\n        if (typeof action.fetchMoreForQueryId === 'string') {\n            newState[action.fetchMoreForQueryId] = __assign({}, previousState[action.fetchMoreForQueryId], { networkStatus: NetworkStatus.ready });\n        }\n        return newState;\n    }\n    else if (isQueryErrorAction(action)) {\n        if (!previousState[action.queryId]) {\n            return previousState;\n        }\n        if (action.requestId < previousState[action.queryId].lastRequestId) {\n            return previousState;\n        }\n        var newState = __assign({}, previousState);\n        newState[action.queryId] = __assign({}, previousState[action.queryId], { networkError: action.error, networkStatus: NetworkStatus.error });\n        if (typeof action.fetchMoreForQueryId === 'string') {\n            newState[action.fetchMoreForQueryId] = __assign({}, previousState[action.fetchMoreForQueryId], { networkError: action.error, networkStatus: NetworkStatus.error });\n        }\n        return newState;\n    }\n    else if (isQueryResultClientAction(action)) {\n        if (!previousState[action.queryId]) {\n            return previousState;\n        }\n        var newState = __assign({}, previousState);\n        newState[action.queryId] = __assign({}, previousState[action.queryId], { networkError: null, previousVariables: null, networkStatus: action.complete ? NetworkStatus.ready : NetworkStatus.loading });\n        return newState;\n    }\n    else if (isQueryStopAction(action)) {\n        var newState = __assign({}, previousState);\n        delete newState[action.queryId];\n        return newState;\n    }\n    else if (isStoreResetAction(action)) {\n        return resetQueryState(previousState, action);\n    }\n    return previousState;\n}\nfunction resetQueryState(state, action) {\n    var observableQueryIds = action.observableQueryIds;\n    var newQueries = Object.keys(state).filter(function (queryId) {\n        return (observableQueryIds.indexOf(queryId) > -1);\n    }).reduce(function (res, key) {\n        res[key] = __assign({}, state[key], { networkStatus: NetworkStatus.loading });\n        return res;\n    }, {});\n    return newQueries;\n}\n//# sourceMappingURL=store.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { isMutationInitAction, isMutationResultAction, isMutationErrorAction, isStoreResetAction, } from '../actions';\nexport function mutations(previousState, action) {\n    if (previousState === void 0) { previousState = {}; }\n    if (isMutationInitAction(action)) {\n        var newState = __assign({}, previousState);\n        newState[action.mutationId] = {\n            mutationString: action.mutationString,\n            variables: action.variables,\n            loading: true,\n            error: null,\n        };\n        return newState;\n    }\n    else if (isMutationResultAction(action)) {\n        var newState = __assign({}, previousState);\n        newState[action.mutationId] = __assign({}, previousState[action.mutationId], { loading: false, error: null });\n        return newState;\n    }\n    else if (isMutationErrorAction(action)) {\n        var newState = __assign({}, previousState);\n        newState[action.mutationId] = __assign({}, previousState[action.mutationId], { loading: false, error: action.error });\n    }\n    else if (isStoreResetAction(action)) {\n        return {};\n    }\n    return previousState;\n}\n//# sourceMappingURL=store.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { createStore, compose as reduxCompose, applyMiddleware, combineReducers, } from 'redux';\nimport { data, } from './data/store';\nimport { queries, } from './queries/store';\nimport { mutations, } from './mutations/store';\nimport { optimistic, getDataWithOptimisticResults, } from './optimistic-data/store';\nexport { getDataWithOptimisticResults };\nimport { isQueryResultAction, isMutationResultAction, isSubscriptionResultAction, } from './actions';\nvar crashReporter = function (store) { return function (next) { return function (action) {\n    try {\n        return next(action);\n    }\n    catch (err) {\n        console.error('Caught an exception!', err);\n        console.error(err.stack);\n        throw err;\n    }\n}; }; };\nvar createReducerError = function (error, action) {\n    var reducerError = { error: error };\n    if (isQueryResultAction(action)) {\n        reducerError.queryId = action.queryId;\n    }\n    else if (isSubscriptionResultAction(action)) {\n        reducerError.subscriptionId = action.subscriptionId;\n    }\n    else if (isMutationResultAction(action)) {\n        reducerError.mutationId = action.mutationId;\n    }\n    return reducerError;\n};\nexport function createApolloReducer(config) {\n    return function apolloReducer(state, action) {\n        if (state === void 0) { state = {}; }\n        try {\n            var newState = {\n                queries: queries(state.queries, action),\n                mutations: mutations(state.mutations, action),\n                data: data(state.data, action, state.queries, state.mutations, config),\n                optimistic: [],\n                reducerError: null,\n            };\n            newState.optimistic = optimistic(state.optimistic, action, newState, config);\n            if (state.data === newState.data &&\n                state.mutations === newState.mutations &&\n                state.queries === newState.queries &&\n                state.optimistic === newState.optimistic &&\n                state.reducerError === newState.reducerError) {\n                return state;\n            }\n            return newState;\n        }\n        catch (reducerError) {\n            return __assign({}, state, { reducerError: createReducerError(reducerError, action) });\n        }\n    };\n}\nexport function createApolloStore(_a) {\n    var _b = _a === void 0 ? {} : _a, _c = _b.reduxRootKey, reduxRootKey = _c === void 0 ? 'apollo' : _c, initialState = _b.initialState, _d = _b.config, config = _d === void 0 ? {} : _d, _e = _b.reportCrashes, reportCrashes = _e === void 0 ? true : _e, logger = _b.logger;\n    var enhancers = [];\n    var middlewares = [];\n    if (reportCrashes) {\n        middlewares.push(crashReporter);\n    }\n    if (logger) {\n        middlewares.push(logger);\n    }\n    if (middlewares.length > 0) {\n        enhancers.push(applyMiddleware.apply(void 0, middlewares));\n    }\n    if (typeof window !== 'undefined') {\n        var anyWindow = window;\n        if (anyWindow.devToolsExtension) {\n            enhancers.push(anyWindow.devToolsExtension());\n        }\n    }\n    var compose = reduxCompose;\n    if (initialState && initialState[reduxRootKey] && initialState[reduxRootKey]['queries']) {\n        throw new Error('Apollo initial state may not contain queries, only data');\n    }\n    if (initialState && initialState[reduxRootKey] && initialState[reduxRootKey]['mutations']) {\n        throw new Error('Apollo initial state may not contain mutations, only data');\n    }\n    return createStore(combineReducers((_f = {}, _f[reduxRootKey] = createApolloReducer(config), _f)), initialState, compose.apply(void 0, enhancers));\n    var _f;\n}\n//# sourceMappingURL=store.js.map","import $$observable from 'symbol-observable';\nfunction isSubscription(subscription) {\n    return subscription.unsubscribe !== undefined;\n}\nvar Observable = (function () {\n    function Observable(subscriberFunction) {\n        this.subscriberFunction = subscriberFunction;\n    }\n    Observable.prototype[$$observable] = function () {\n        return this;\n    };\n    Observable.prototype.subscribe = function (observer) {\n        var subscriptionOrCleanupFunction = this.subscriberFunction(observer);\n        if (isSubscription(subscriptionOrCleanupFunction)) {\n            return subscriptionOrCleanupFunction;\n        }\n        else {\n            return {\n                unsubscribe: subscriptionOrCleanupFunction,\n            };\n        }\n    };\n    return Observable;\n}());\nexport { Observable };\n//# sourceMappingURL=Observable.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nexport function isApolloError(err) {\n    return err.hasOwnProperty('graphQLErrors');\n}\nvar generateErrorMessage = function (err) {\n    var message = '';\n    if (Array.isArray(err.graphQLErrors) && err.graphQLErrors.length !== 0) {\n        err.graphQLErrors.forEach(function (graphQLError) {\n            var errorMessage = graphQLError ? graphQLError.message : 'Error message not found.';\n            message += \"GraphQL error: \" + errorMessage + \"\\n\";\n        });\n    }\n    if (err.networkError) {\n        message += 'Network error: ' + err.networkError.message + '\\n';\n    }\n    message = message.replace(/\\n$/, '');\n    return message;\n};\nvar ApolloError = (function (_super) {\n    __extends(ApolloError, _super);\n    function ApolloError(_a) {\n        var graphQLErrors = _a.graphQLErrors, networkError = _a.networkError, errorMessage = _a.errorMessage, extraInfo = _a.extraInfo;\n        var _this = _super.call(this, errorMessage) || this;\n        _this.graphQLErrors = graphQLErrors || [];\n        _this.networkError = networkError || null;\n        if (!errorMessage) {\n            _this.message = generateErrorMessage(_this);\n        }\n        else {\n            _this.message = errorMessage;\n        }\n        _this.extraInfo = extraInfo;\n        return _this;\n    }\n    return ApolloError;\n}(Error));\nexport { ApolloError };\n//# sourceMappingURL=ApolloError.js.map","export var FetchType;\n(function (FetchType) {\n    FetchType[FetchType[\"normal\"] = 1] = \"normal\";\n    FetchType[FetchType[\"refetch\"] = 2] = \"refetch\";\n    FetchType[FetchType[\"poll\"] = 3] = \"poll\";\n})(FetchType || (FetchType = {}));\n//# sourceMappingURL=types.js.map","export function getEnv() {\n    if (typeof process !== 'undefined' && process.env.NODE_ENV) {\n        return process.env.NODE_ENV;\n    }\n    return 'development';\n}\nexport function isEnv(env) {\n    return getEnv() === env;\n}\nexport function isProduction() {\n    return isEnv('production') === true;\n}\nexport function isDevelopment() {\n    return isEnv('development') === true;\n}\nexport function isTest() {\n    return isEnv('test') === true;\n}\n//# sourceMappingURL=environment.js.map","import { isDevelopment, isTest, } from './environment';\nfunction deepFreeze(o) {\n    Object.freeze(o);\n    Object.getOwnPropertyNames(o).forEach(function (prop) {\n        if (o.hasOwnProperty(prop)\n            && o[prop] !== null\n            && (typeof o[prop] === 'object' || typeof o[prop] === 'function')\n            && !Object.isFrozen(o[prop])) {\n            deepFreeze(o[prop]);\n        }\n    });\n    return o;\n}\nexport default function maybeDeepFreeze(obj) {\n    if (isDevelopment() || isTest()) {\n        return deepFreeze(obj);\n    }\n    return obj;\n}\n//# sourceMappingURL=maybeDeepFreeze.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { Observable } from '../util/Observable';\nimport { ApolloError, } from '../errors/ApolloError';\nimport { FetchType, } from './types';\nimport { tryFunctionOrLogError } from '../util/errorHandling';\nimport { isEqual } from '../util/isEqual';\nimport maybeDeepFreeze from '../util/maybeDeepFreeze';\nimport { NetworkStatus, isNetworkRequestInFlight, } from '../queries/networkStatus';\nvar ObservableQuery = (function (_super) {\n    __extends(ObservableQuery, _super);\n    function ObservableQuery(_a) {\n        var scheduler = _a.scheduler, options = _a.options, _b = _a.shouldSubscribe, shouldSubscribe = _b === void 0 ? true : _b;\n        var _this = this;\n        var queryManager = scheduler.queryManager;\n        var queryId = queryManager.generateQueryId();\n        var subscriberFunction = function (observer) {\n            return _this.onSubscribe(observer);\n        };\n        _this = _super.call(this, subscriberFunction) || this;\n        _this.isCurrentlyPolling = false;\n        _this.options = options;\n        _this.variables = _this.options.variables || {};\n        _this.scheduler = scheduler;\n        _this.queryManager = queryManager;\n        _this.queryId = queryId;\n        _this.shouldSubscribe = shouldSubscribe;\n        _this.observers = [];\n        _this.subscriptionHandles = [];\n        return _this;\n    }\n    ObservableQuery.prototype.result = function () {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            var subscription = _this.subscribe({\n                next: function (result) {\n                    resolve(result);\n                    setTimeout(function () {\n                        subscription.unsubscribe();\n                    }, 0);\n                },\n                error: function (error) {\n                    reject(error);\n                },\n            });\n        });\n    };\n    ObservableQuery.prototype.currentResult = function () {\n        var _a = this.queryManager.getCurrentQueryResult(this, true), data = _a.data, partial = _a.partial;\n        var queryStoreValue = this.queryManager.getApolloState().queries[this.queryId];\n        if (queryStoreValue && ((queryStoreValue.graphQLErrors && queryStoreValue.graphQLErrors.length > 0) ||\n            queryStoreValue.networkError)) {\n            var error = new ApolloError({\n                graphQLErrors: queryStoreValue.graphQLErrors,\n                networkError: queryStoreValue.networkError,\n            });\n            return { data: {}, loading: false, networkStatus: queryStoreValue.networkStatus, error: error };\n        }\n        var queryLoading = !queryStoreValue || queryStoreValue.networkStatus === NetworkStatus.loading;\n        var loading = (this.options.fetchPolicy === 'network-only' && queryLoading)\n            || (partial && this.options.fetchPolicy !== 'cache-only');\n        var networkStatus;\n        if (queryStoreValue) {\n            networkStatus = queryStoreValue.networkStatus;\n        }\n        else {\n            networkStatus = loading ? NetworkStatus.loading : NetworkStatus.ready;\n        }\n        return {\n            data: data,\n            loading: isNetworkRequestInFlight(networkStatus),\n            networkStatus: networkStatus,\n            partial: partial,\n        };\n    };\n    ObservableQuery.prototype.getLastResult = function () {\n        return this.lastResult;\n    };\n    ObservableQuery.prototype.refetch = function (variables) {\n        this.variables = __assign({}, this.variables, variables);\n        if (this.options.fetchPolicy === 'cache-only') {\n            throw new Error('cache-only fetchPolicy option should not be used together with query refetch.');\n        }\n        this.options.variables = __assign({}, this.options.variables, this.variables);\n        var combinedOptions = __assign({}, this.options, { fetchPolicy: 'network-only' });\n        return this.queryManager.fetchQuery(this.queryId, combinedOptions, FetchType.refetch)\n            .then(function (result) { return maybeDeepFreeze(result); });\n    };\n    ObservableQuery.prototype.fetchMore = function (fetchMoreOptions) {\n        var _this = this;\n        if (!fetchMoreOptions.updateQuery) {\n            throw new Error('updateQuery option is required. This function defines how to update the query data with the new results.');\n        }\n        return Promise.resolve()\n            .then(function () {\n            var qid = _this.queryManager.generateQueryId();\n            var combinedOptions = null;\n            if (fetchMoreOptions.query) {\n                combinedOptions = fetchMoreOptions;\n            }\n            else {\n                var variables = __assign({}, _this.variables, fetchMoreOptions.variables);\n                combinedOptions = __assign({}, _this.options, fetchMoreOptions, { variables: variables });\n            }\n            combinedOptions = __assign({}, combinedOptions, { query: combinedOptions.query, fetchPolicy: 'network-only' });\n            return _this.queryManager.fetchQuery(qid, combinedOptions, FetchType.normal, _this.queryId);\n        })\n            .then(function (fetchMoreResult) {\n            var data = fetchMoreResult.data;\n            var reducer = fetchMoreOptions.updateQuery;\n            var mapFn = function (previousResult, _a) {\n                var variables = _a.variables;\n                var queryVariables = variables;\n                return reducer(previousResult, {\n                    fetchMoreResult: data,\n                    queryVariables: queryVariables,\n                });\n            };\n            _this.updateQuery(mapFn);\n            return fetchMoreResult;\n        });\n    };\n    ObservableQuery.prototype.subscribeToMore = function (options) {\n        var _this = this;\n        var observable = this.queryManager.startGraphQLSubscription({\n            query: options.document,\n            variables: options.variables,\n        });\n        var subscription = observable.subscribe({\n            next: function (data) {\n                if (options.updateQuery) {\n                    var reducer_1 = options.updateQuery;\n                    var mapFn = function (previousResult, _a) {\n                        var variables = _a.variables;\n                        return reducer_1(previousResult, {\n                            subscriptionData: { data: data },\n                            variables: variables,\n                        });\n                    };\n                    _this.updateQuery(mapFn);\n                }\n            },\n            error: function (err) {\n                if (options.onError) {\n                    options.onError(err);\n                }\n                else {\n                    console.error('Unhandled GraphQL subscription error', err);\n                }\n            },\n        });\n        this.subscriptionHandles.push(subscription);\n        return function () {\n            var i = _this.subscriptionHandles.indexOf(subscription);\n            if (i >= 0) {\n                _this.subscriptionHandles.splice(i, 1);\n                subscription.unsubscribe();\n            }\n        };\n    };\n    ObservableQuery.prototype.setOptions = function (opts) {\n        var oldOptions = this.options;\n        this.options = __assign({}, this.options, opts);\n        if (opts.pollInterval) {\n            this.startPolling(opts.pollInterval);\n        }\n        else if (opts.pollInterval === 0) {\n            this.stopPolling();\n        }\n        var tryFetch = (oldOptions.fetchPolicy !== 'network-only' && opts.fetchPolicy === 'network-only')\n            || (oldOptions.fetchPolicy === 'cache-only' && opts.fetchPolicy !== 'cache-only')\n            || false;\n        return this.setVariables(this.options.variables, tryFetch);\n    };\n    ObservableQuery.prototype.setVariables = function (variables, tryFetch) {\n        if (tryFetch === void 0) { tryFetch = false; }\n        var newVariables = __assign({}, this.variables, variables);\n        if (isEqual(newVariables, this.variables) && !tryFetch) {\n            if (this.observers.length === 0) {\n                return new Promise(function (resolve) { return resolve(); });\n            }\n            return this.result();\n        }\n        else {\n            this.variables = newVariables;\n            if (this.observers.length === 0) {\n                return new Promise(function (resolve) { return resolve(); });\n            }\n            return this.queryManager.fetchQuery(this.queryId, __assign({}, this.options, { variables: this.variables }))\n                .then(function (result) { return maybeDeepFreeze(result); });\n        }\n    };\n    ObservableQuery.prototype.updateQuery = function (mapFn) {\n        var _a = this.queryManager.getQueryWithPreviousResult(this.queryId), previousResult = _a.previousResult, variables = _a.variables, document = _a.document;\n        var newResult = tryFunctionOrLogError(function () { return mapFn(previousResult, { variables: variables }); });\n        if (newResult) {\n            this.queryManager.store.dispatch({\n                type: 'APOLLO_UPDATE_QUERY_RESULT',\n                newResult: newResult,\n                variables: variables,\n                document: document,\n            });\n        }\n    };\n    ObservableQuery.prototype.stopPolling = function () {\n        if (this.isCurrentlyPolling) {\n            this.scheduler.stopPollingQuery(this.queryId);\n            this.options.pollInterval = undefined;\n            this.isCurrentlyPolling = false;\n        }\n    };\n    ObservableQuery.prototype.startPolling = function (pollInterval) {\n        if (this.options.fetchPolicy === 'cache-first' || (this.options.fetchPolicy === 'cache-only')) {\n            throw new Error('Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.');\n        }\n        if (this.isCurrentlyPolling) {\n            this.scheduler.stopPollingQuery(this.queryId);\n            this.isCurrentlyPolling = false;\n        }\n        this.options.pollInterval = pollInterval;\n        this.isCurrentlyPolling = true;\n        this.scheduler.startPollingQuery(this.options, this.queryId);\n    };\n    ObservableQuery.prototype.onSubscribe = function (observer) {\n        var _this = this;\n        this.observers.push(observer);\n        if (observer.next && this.lastResult) {\n            observer.next(this.lastResult);\n        }\n        if (observer.error && this.lastError) {\n            observer.error(this.lastError);\n        }\n        if (this.observers.length === 1) {\n            this.setUpQuery();\n        }\n        var retQuerySubscription = {\n            unsubscribe: function () {\n                if (_this.observers.findIndex(function (el) { return el === observer; }) < 0) {\n                    return;\n                }\n                _this.observers = _this.observers.filter(function (obs) { return obs !== observer; });\n                if (_this.observers.length === 0) {\n                    _this.tearDownQuery();\n                }\n            },\n        };\n        return retQuerySubscription;\n    };\n    ObservableQuery.prototype.setUpQuery = function () {\n        var _this = this;\n        if (this.shouldSubscribe) {\n            this.queryManager.addObservableQuery(this.queryId, this);\n        }\n        if (!!this.options.pollInterval) {\n            if (this.options.fetchPolicy === 'cache-first' || (this.options.fetchPolicy === 'cache-only')) {\n                throw new Error('Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.');\n            }\n            this.isCurrentlyPolling = true;\n            this.scheduler.startPollingQuery(this.options, this.queryId);\n        }\n        var observer = {\n            next: function (result) {\n                _this.lastResult = result;\n                _this.observers.forEach(function (obs) {\n                    if (obs.next) {\n                        obs.next(result);\n                    }\n                });\n            },\n            error: function (error) {\n                _this.observers.forEach(function (obs) {\n                    if (obs.error) {\n                        obs.error(error);\n                    }\n                    else {\n                        console.error('Unhandled error', error.message, error.stack);\n                    }\n                });\n                _this.lastError = error;\n            },\n        };\n        this.queryManager.startQuery(this.queryId, this.options, this.queryManager.queryListenerForObserver(this.queryId, this.options, observer));\n    };\n    ObservableQuery.prototype.tearDownQuery = function () {\n        if (this.isCurrentlyPolling) {\n            this.scheduler.stopPollingQuery(this.queryId);\n            this.isCurrentlyPolling = false;\n        }\n        this.subscriptionHandles.forEach(function (sub) { return sub.unsubscribe(); });\n        this.subscriptionHandles = [];\n        this.queryManager.stopQuery(this.queryId);\n        if (this.shouldSubscribe) {\n            this.queryManager.removeObservableQuery(this.queryId);\n        }\n        this.observers = [];\n    };\n    return ObservableQuery;\n}(Observable));\nexport { ObservableQuery };\n//# sourceMappingURL=ObservableQuery.js.map","import { isTest, } from '../util/environment';\nvar IntrospectionFragmentMatcher = (function () {\n    function IntrospectionFragmentMatcher(options) {\n        if (options && options.introspectionQueryResultData) {\n            this.possibleTypesMap = this.parseIntrospectionResult(options.introspectionQueryResultData);\n            this.isReady = true;\n        }\n        else {\n            this.isReady = false;\n        }\n        this.match = this.match.bind(this);\n    }\n    IntrospectionFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        if (!this.isReady) {\n            throw new Error('FragmentMatcher.match() was called before FragmentMatcher.init()');\n        }\n        var obj = context.store[idValue.id];\n        if (!obj) {\n            return false;\n        }\n        if (!obj.__typename) {\n            throw new Error(\"Cannot match fragment because __typename property is missing: \" + JSON.stringify(obj));\n        }\n        if (obj.__typename === typeCondition) {\n            return true;\n        }\n        var implementingTypes = this.possibleTypesMap[typeCondition];\n        if (implementingTypes && implementingTypes.indexOf(obj.__typename) > -1) {\n            return true;\n        }\n        return false;\n    };\n    IntrospectionFragmentMatcher.prototype.parseIntrospectionResult = function (introspectionResultData) {\n        var typeMap = {};\n        introspectionResultData.__schema.types.forEach(function (type) {\n            if (type.kind === 'UNION' || type.kind === 'INTERFACE') {\n                typeMap[type.name] = type.possibleTypes.map(function (implementingType) { return implementingType.name; });\n            }\n        });\n        return typeMap;\n    };\n    return IntrospectionFragmentMatcher;\n}());\nexport { IntrospectionFragmentMatcher };\nvar haveWarned = false;\nvar HeuristicFragmentMatcher = (function () {\n    function HeuristicFragmentMatcher() {\n    }\n    HeuristicFragmentMatcher.prototype.ensureReady = function () {\n        return Promise.resolve();\n    };\n    HeuristicFragmentMatcher.prototype.canBypassInit = function () {\n        return true;\n    };\n    HeuristicFragmentMatcher.prototype.match = function (idValue, typeCondition, context) {\n        var obj = context.store[idValue.id];\n        if (!obj) {\n            return false;\n        }\n        if (!obj.__typename) {\n            if (!haveWarned) {\n                console.warn(\"You're using fragments in your queries, but don't have the addTypename:\\n  true option set in Apollo Client. Please turn on that option so that we can accurately\\n  match fragments.\");\n                if (!isTest()) {\n                    haveWarned = true;\n                }\n            }\n            context.returnPartialData = true;\n            return true;\n        }\n        if (obj.__typename === typeCondition) {\n            return true;\n        }\n        context.returnPartialData = true;\n        return true;\n    };\n    return HeuristicFragmentMatcher;\n}());\nexport { HeuristicFragmentMatcher };\n//# sourceMappingURL=fragmentMatcher.js.map","import { print, } from 'graphql/language/printer';\nvar Deduplicator = (function () {\n    function Deduplicator(networkInterface) {\n        this.networkInterface = networkInterface;\n        this.inFlightRequestPromises = {};\n    }\n    Deduplicator.prototype.query = function (request, deduplicate) {\n        var _this = this;\n        if (deduplicate === void 0) { deduplicate = true; }\n        if (!deduplicate) {\n            return this.networkInterface.query(request);\n        }\n        var key = this.getKey(request);\n        if (!this.inFlightRequestPromises[key]) {\n            this.inFlightRequestPromises[key] = this.networkInterface.query(request);\n        }\n        return this.inFlightRequestPromises[key]\n            .then(function (res) {\n            delete _this.inFlightRequestPromises[key];\n            return res;\n        })\n            .catch(function (err) {\n            delete _this.inFlightRequestPromises[key];\n            throw err;\n        });\n    };\n    Deduplicator.prototype.getKey = function (request) {\n        return print(request.query) + \"|\" + JSON.stringify(request.variables) + \"|\" + request.operationName;\n    };\n    return Deduplicator;\n}());\nexport { Deduplicator };\n//# sourceMappingURL=Deduplicator.js.map","import { diffQueryAgainstStore, } from './readFromStore';\nimport { writeResultToStore, } from './writeToStore';\nexport function createStoreReducer(resultReducer, document, variables, config) {\n    return function (store, action) {\n        var _a = diffQueryAgainstStore({\n            store: store,\n            query: document,\n            variables: variables,\n            returnPartialData: true,\n            fragmentMatcherFunction: config.fragmentMatcher,\n            config: config,\n        }), result = _a.result, isMissing = _a.isMissing;\n        if (isMissing) {\n            return store;\n        }\n        var nextResult;\n        try {\n            nextResult = resultReducer(result, action, variables);\n        }\n        catch (err) {\n            console.warn('Unhandled error in result reducer', err);\n            throw err;\n        }\n        if (result !== nextResult) {\n            return writeResultToStore({\n                dataId: 'ROOT_QUERY',\n                result: nextResult,\n                store: store,\n                document: document,\n                variables: variables,\n                dataIdFromObject: config.dataIdFromObject,\n            });\n        }\n        return store;\n    };\n}\n//# sourceMappingURL=resultReducers.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { FetchType, } from '../core/types';\nimport { ObservableQuery } from '../core/ObservableQuery';\nimport { NetworkStatus } from '../queries/networkStatus';\nvar QueryScheduler = (function () {\n    function QueryScheduler(_a) {\n        var queryManager = _a.queryManager;\n        this.queryManager = queryManager;\n        this.pollingTimers = {};\n        this.inFlightQueries = {};\n        this.registeredQueries = {};\n        this.intervalQueries = {};\n    }\n    QueryScheduler.prototype.checkInFlight = function (queryId) {\n        var queries = this.queryManager.getApolloState().queries;\n        return queries[queryId] && queries[queryId].networkStatus !== NetworkStatus.ready;\n    };\n    QueryScheduler.prototype.fetchQuery = function (queryId, options, fetchType) {\n        var _this = this;\n        return new Promise(function (resolve, reject) {\n            _this.queryManager.fetchQuery(queryId, options, fetchType).then(function (result) {\n                resolve(result);\n            }).catch(function (error) {\n                reject(error);\n            });\n        });\n    };\n    QueryScheduler.prototype.startPollingQuery = function (options, queryId, listener) {\n        if (!options.pollInterval) {\n            throw new Error('Attempted to start a polling query without a polling interval.');\n        }\n        this.registeredQueries[queryId] = options;\n        if (listener) {\n            this.queryManager.addQueryListener(queryId, listener);\n        }\n        this.addQueryOnInterval(queryId, options);\n        return queryId;\n    };\n    QueryScheduler.prototype.stopPollingQuery = function (queryId) {\n        delete this.registeredQueries[queryId];\n    };\n    QueryScheduler.prototype.fetchQueriesOnInterval = function (interval) {\n        var _this = this;\n        this.intervalQueries[interval] = this.intervalQueries[interval].filter(function (queryId) {\n            if (!_this.registeredQueries.hasOwnProperty(queryId)) {\n                return false;\n            }\n            if (_this.checkInFlight(queryId)) {\n                return true;\n            }\n            var queryOptions = _this.registeredQueries[queryId];\n            var pollingOptions = __assign({}, queryOptions);\n            pollingOptions.fetchPolicy = 'network-only';\n            _this.fetchQuery(queryId, pollingOptions, FetchType.poll);\n            return true;\n        });\n        if (this.intervalQueries[interval].length === 0) {\n            clearInterval(this.pollingTimers[interval]);\n            delete this.intervalQueries[interval];\n        }\n    };\n    QueryScheduler.prototype.addQueryOnInterval = function (queryId, queryOptions) {\n        var _this = this;\n        var interval = queryOptions.pollInterval;\n        if (!interval) {\n            throw new Error(\"A poll interval is required to start polling query with id '\" + queryId + \"'.\");\n        }\n        if (this.intervalQueries.hasOwnProperty(interval.toString()) && this.intervalQueries[interval].length > 0) {\n            this.intervalQueries[interval].push(queryId);\n        }\n        else {\n            this.intervalQueries[interval] = [queryId];\n            this.pollingTimers[interval] = setInterval(function () {\n                _this.fetchQueriesOnInterval(interval);\n            }, interval);\n        }\n    };\n    QueryScheduler.prototype.registerPollingQuery = function (queryOptions) {\n        if (!queryOptions.pollInterval) {\n            throw new Error('Attempted to register a non-polling query with the scheduler.');\n        }\n        return new ObservableQuery({\n            scheduler: this,\n            options: queryOptions,\n        });\n    };\n    return QueryScheduler;\n}());\nexport { QueryScheduler };\n//# sourceMappingURL=scheduler.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { Deduplicator, } from '../transport/Deduplicator';\nimport { isEqual } from '../util/isEqual';\nimport { FetchType, } from './types';\nimport { NetworkStatus, isNetworkRequestInFlight, } from '../queries/networkStatus';\nimport { getDataWithOptimisticResults, } from '../store';\nimport { checkDocument, getQueryDefinition, getOperationName, } from '../queries/getFromAST';\nimport { addTypenameToDocument, } from '../queries/queryTransform';\nimport { createStoreReducer, } from '../data/resultReducers';\nimport { HeuristicFragmentMatcher, } from '../data/fragmentMatcher';\nimport { isProduction, } from '../util/environment';\nimport maybeDeepFreeze from '../util/maybeDeepFreeze';\nimport { print } from 'graphql/language/printer';\nimport { readQueryFromStore, } from '../data/readFromStore';\nimport { diffQueryAgainstStore, } from '../data/readFromStore';\nimport { QueryScheduler, } from '../scheduler/scheduler';\nimport { Observable, } from '../util/Observable';\nimport { isApolloError, ApolloError, } from '../errors/ApolloError';\nimport { ObservableQuery } from './ObservableQuery';\nvar QueryManager = (function () {\n    function QueryManager(_a) {\n        var networkInterface = _a.networkInterface, store = _a.store, reduxRootSelector = _a.reduxRootSelector, _b = _a.reducerConfig, reducerConfig = _b === void 0 ? { mutationBehaviorReducers: {} } : _b, fragmentMatcher = _a.fragmentMatcher, _c = _a.addTypename, addTypename = _c === void 0 ? true : _c, _d = _a.queryDeduplication, queryDeduplication = _d === void 0 ? false : _d;\n        var _this = this;\n        this.idCounter = 1;\n        this.networkInterface = networkInterface;\n        this.deduplicator = new Deduplicator(networkInterface);\n        this.store = store;\n        this.reduxRootSelector = reduxRootSelector;\n        this.reducerConfig = reducerConfig;\n        this.pollingTimers = {};\n        this.queryListeners = {};\n        this.queryDocuments = {};\n        this.addTypename = addTypename;\n        this.queryDeduplication = queryDeduplication;\n        if (typeof fragmentMatcher === 'undefined') {\n            this.fragmentMatcher = new HeuristicFragmentMatcher();\n        }\n        else {\n            this.fragmentMatcher = fragmentMatcher;\n        }\n        this.scheduler = new QueryScheduler({\n            queryManager: this,\n        });\n        this.fetchQueryPromises = {};\n        this.observableQueries = {};\n        this.queryIdsByName = {};\n        if (this.store['subscribe']) {\n            var currentStoreData_1;\n            this.store['subscribe'](function () {\n                var previousStoreData = currentStoreData_1 || {};\n                var previousStoreHasData = Object.keys(previousStoreData).length;\n                currentStoreData_1 = _this.getApolloState();\n                if (isEqual(previousStoreData, currentStoreData_1) && previousStoreHasData) {\n                    return;\n                }\n                _this.broadcastQueries();\n            });\n        }\n    }\n    QueryManager.prototype.broadcastNewStore = function (store) {\n        this.broadcastQueries();\n    };\n    QueryManager.prototype.mutate = function (_a) {\n        var _this = this;\n        var mutation = _a.mutation, variables = _a.variables, optimisticResponse = _a.optimisticResponse, updateQueriesByName = _a.updateQueries, _b = _a.refetchQueries, refetchQueries = _b === void 0 ? [] : _b, updateWithProxyFn = _a.update;\n        var mutationId = this.generateQueryId();\n        if (this.addTypename) {\n            mutation = addTypenameToDocument(mutation);\n        }\n        checkDocument(mutation);\n        var mutationString = print(mutation);\n        var request = {\n            query: mutation,\n            variables: variables,\n            operationName: getOperationName(mutation),\n        };\n        this.queryDocuments[mutationId] = mutation;\n        var updateQueries = {};\n        if (updateQueriesByName) {\n            Object.keys(updateQueriesByName).forEach(function (queryName) { return (_this.queryIdsByName[queryName] || []).forEach(function (queryId) {\n                updateQueries[queryId] = updateQueriesByName[queryName];\n            }); });\n        }\n        this.store.dispatch({\n            type: 'APOLLO_MUTATION_INIT',\n            mutationString: mutationString,\n            mutation: mutation,\n            variables: variables || {},\n            operationName: getOperationName(mutation),\n            mutationId: mutationId,\n            optimisticResponse: optimisticResponse,\n            extraReducers: this.getExtraReducers(),\n            updateQueries: updateQueries,\n            update: updateWithProxyFn,\n        });\n        return new Promise(function (resolve, reject) {\n            _this.networkInterface.query(request)\n                .then(function (result) {\n                if (result.errors) {\n                    var error = new ApolloError({\n                        graphQLErrors: result.errors,\n                    });\n                    _this.store.dispatch({\n                        type: 'APOLLO_MUTATION_ERROR',\n                        error: error,\n                        mutationId: mutationId,\n                    });\n                    delete _this.queryDocuments[mutationId];\n                    reject(error);\n                    return;\n                }\n                _this.store.dispatch({\n                    type: 'APOLLO_MUTATION_RESULT',\n                    result: result,\n                    mutationId: mutationId,\n                    document: mutation,\n                    operationName: getOperationName(mutation),\n                    variables: variables || {},\n                    extraReducers: _this.getExtraReducers(),\n                    updateQueries: updateQueries,\n                    update: updateWithProxyFn,\n                });\n                var reducerError = _this.getApolloState().reducerError;\n                if (reducerError && reducerError.mutationId === mutationId) {\n                    reject(reducerError.error);\n                    return;\n                }\n                if (typeof refetchQueries[0] === 'string') {\n                    refetchQueries.forEach(function (name) { _this.refetchQueryByName(name); });\n                }\n                else {\n                    refetchQueries.forEach(function (pureQuery) {\n                        _this.query({\n                            query: pureQuery.query,\n                            variables: pureQuery.variables,\n                            fetchPolicy: 'network-only',\n                        });\n                    });\n                }\n                delete _this.queryDocuments[mutationId];\n                resolve(result);\n            })\n                .catch(function (err) {\n                _this.store.dispatch({\n                    type: 'APOLLO_MUTATION_ERROR',\n                    error: err,\n                    mutationId: mutationId,\n                });\n                delete _this.queryDocuments[mutationId];\n                reject(new ApolloError({\n                    networkError: err,\n                }));\n            });\n        });\n    };\n    QueryManager.prototype.fetchQuery = function (queryId, options, fetchType, fetchMoreForQueryId) {\n        var _this = this;\n        var _a = options.variables, variables = _a === void 0 ? {} : _a, _b = options.metadata, metadata = _b === void 0 ? null : _b, _c = options.fetchPolicy, fetchPolicy = _c === void 0 ? 'cache-first' : _c;\n        var queryDoc = this.transformQueryDocument(options).queryDoc;\n        var queryString = print(queryDoc);\n        var storeResult;\n        var needToFetch = fetchPolicy === 'network-only';\n        if ((fetchType !== FetchType.refetch && fetchPolicy !== 'network-only')) {\n            var _d = diffQueryAgainstStore({\n                query: queryDoc,\n                store: this.reduxRootSelector(this.store.getState()).data,\n                variables: variables,\n                returnPartialData: true,\n                fragmentMatcherFunction: this.fragmentMatcher.match,\n                config: this.reducerConfig,\n            }), isMissing = _d.isMissing, result = _d.result;\n            needToFetch = isMissing || fetchPolicy === 'cache-and-network';\n            storeResult = result;\n        }\n        var shouldFetch = needToFetch && fetchPolicy !== 'cache-only';\n        var requestId = this.generateRequestId();\n        this.queryDocuments[queryId] = queryDoc;\n        this.store.dispatch({\n            type: 'APOLLO_QUERY_INIT',\n            queryString: queryString,\n            document: queryDoc,\n            variables: variables,\n            fetchPolicy: fetchPolicy,\n            queryId: queryId,\n            requestId: requestId,\n            storePreviousVariables: shouldFetch,\n            isPoll: fetchType === FetchType.poll,\n            isRefetch: fetchType === FetchType.refetch,\n            fetchMoreForQueryId: fetchMoreForQueryId,\n            metadata: metadata,\n        });\n        var shouldDispatchClientResult = !shouldFetch || fetchPolicy === 'cache-and-network';\n        if (shouldDispatchClientResult) {\n            this.store.dispatch({\n                type: 'APOLLO_QUERY_RESULT_CLIENT',\n                result: { data: storeResult },\n                variables: variables,\n                document: queryDoc,\n                complete: !shouldFetch,\n                queryId: queryId,\n                requestId: requestId,\n            });\n        }\n        if (shouldFetch) {\n            var networkResult = this.fetchRequest({\n                requestId: requestId,\n                queryId: queryId,\n                document: queryDoc,\n                options: options,\n                fetchMoreForQueryId: fetchMoreForQueryId,\n            }).catch(function (error) {\n                if (isApolloError(error)) {\n                    throw error;\n                }\n                else {\n                    _this.store.dispatch({\n                        type: 'APOLLO_QUERY_ERROR',\n                        error: error,\n                        queryId: queryId,\n                        requestId: requestId,\n                        fetchMoreForQueryId: fetchMoreForQueryId,\n                    });\n                    _this.removeFetchQueryPromise(requestId);\n                    throw new ApolloError({\n                        networkError: error,\n                    });\n                }\n            });\n            if (fetchPolicy !== 'cache-and-network') {\n                return networkResult;\n            }\n        }\n        return Promise.resolve({ data: storeResult });\n    };\n    QueryManager.prototype.queryListenerForObserver = function (queryId, options, observer) {\n        var _this = this;\n        var lastResult;\n        return function (queryStoreValue) {\n            if (!queryStoreValue) {\n                return;\n            }\n            var storedQuery = _this.observableQueries[queryId];\n            var fetchPolicy = storedQuery ? storedQuery.observableQuery.options.fetchPolicy : options.fetchPolicy;\n            var shouldNotifyIfLoading = queryStoreValue.previousVariables ||\n                fetchPolicy === 'cache-only' || fetchPolicy === 'cache-and-network';\n            var networkStatusChanged = lastResult && queryStoreValue.networkStatus !== lastResult.networkStatus;\n            if (!isNetworkRequestInFlight(queryStoreValue.networkStatus) ||\n                (networkStatusChanged && options.notifyOnNetworkStatusChange) ||\n                shouldNotifyIfLoading) {\n                if ((queryStoreValue.graphQLErrors && queryStoreValue.graphQLErrors.length > 0) ||\n                    queryStoreValue.networkError) {\n                    var apolloError_1 = new ApolloError({\n                        graphQLErrors: queryStoreValue.graphQLErrors,\n                        networkError: queryStoreValue.networkError,\n                    });\n                    if (observer.error) {\n                        try {\n                            observer.error(apolloError_1);\n                        }\n                        catch (e) {\n                            setTimeout(function () { throw e; }, 0);\n                        }\n                    }\n                    else {\n                        setTimeout(function () { throw apolloError_1; }, 0);\n                        if (!isProduction()) {\n                            console.info('An unhandled error was thrown because no error handler is registered ' +\n                                'for the query ' + queryStoreValue.queryString);\n                        }\n                    }\n                }\n                else {\n                    try {\n                        var _a = diffQueryAgainstStore({\n                            store: _this.getDataWithOptimisticResults(),\n                            query: _this.queryDocuments[queryId],\n                            variables: queryStoreValue.previousVariables || queryStoreValue.variables,\n                            config: _this.reducerConfig,\n                            fragmentMatcherFunction: _this.fragmentMatcher.match,\n                            previousResult: lastResult && lastResult.data,\n                        }), data = _a.result, isMissing = _a.isMissing;\n                        var resultFromStore = void 0;\n                        if (isMissing && fetchPolicy !== 'cache-only') {\n                            resultFromStore = {\n                                data: lastResult && lastResult.data,\n                                loading: isNetworkRequestInFlight(queryStoreValue.networkStatus),\n                                networkStatus: queryStoreValue.networkStatus,\n                                stale: true,\n                            };\n                        }\n                        else {\n                            resultFromStore = {\n                                data: data,\n                                loading: isNetworkRequestInFlight(queryStoreValue.networkStatus),\n                                networkStatus: queryStoreValue.networkStatus,\n                                stale: false,\n                            };\n                        }\n                        if (observer.next) {\n                            var isDifferentResult = !(lastResult &&\n                                resultFromStore &&\n                                lastResult.networkStatus === resultFromStore.networkStatus &&\n                                lastResult.stale === resultFromStore.stale &&\n                                lastResult.data === resultFromStore.data);\n                            if (isDifferentResult) {\n                                lastResult = resultFromStore;\n                                try {\n                                    observer.next(maybeDeepFreeze(resultFromStore));\n                                }\n                                catch (e) {\n                                    setTimeout(function () { throw e; }, 0);\n                                }\n                            }\n                        }\n                    }\n                    catch (error) {\n                        if (observer.error) {\n                            observer.error(new ApolloError({\n                                networkError: error,\n                            }));\n                        }\n                        return;\n                    }\n                }\n            }\n        };\n    };\n    QueryManager.prototype.watchQuery = function (options, shouldSubscribe) {\n        if (shouldSubscribe === void 0) { shouldSubscribe = true; }\n        if (options.returnPartialData) {\n            throw new Error('returnPartialData option is no longer supported since Apollo Client 1.0.');\n        }\n        if (options.forceFetch) {\n            throw new Error('forceFetch option is no longer supported since Apollo Client 1.0. Use fetchPolicy instead.');\n        }\n        if (options.noFetch) {\n            throw new Error('noFetch option is no longer supported since Apollo Client 1.0. Use fetchPolicy instead.');\n        }\n        getQueryDefinition(options.query);\n        if (typeof options.notifyOnNetworkStatusChange === 'undefined') {\n            options.notifyOnNetworkStatusChange = false;\n        }\n        var transformedOptions = __assign({}, options);\n        var observableQuery = new ObservableQuery({\n            scheduler: this.scheduler,\n            options: transformedOptions,\n            shouldSubscribe: shouldSubscribe,\n        });\n        return observableQuery;\n    };\n    QueryManager.prototype.query = function (options) {\n        var _this = this;\n        if (!options.query) {\n            throw new Error('query option is required. You must specify your GraphQL document in the query option.');\n        }\n        if (options.query.kind !== 'Document') {\n            throw new Error('You must wrap the query string in a \"gql\" tag.');\n        }\n        if (options.returnPartialData) {\n            throw new Error('returnPartialData option only supported on watchQuery.');\n        }\n        if (options.pollInterval) {\n            throw new Error('pollInterval option only supported on watchQuery.');\n        }\n        if (options.forceFetch) {\n            throw new Error('forceFetch option is no longer supported since Apollo Client 1.0. Use fetchPolicy instead.');\n        }\n        if (options.noFetch) {\n            throw new Error('noFetch option is no longer supported since Apollo Client 1.0. Use fetchPolicy instead.');\n        }\n        if (typeof options.notifyOnNetworkStatusChange !== 'undefined') {\n            throw new Error('Cannot call \"query\" with \"notifyOnNetworkStatusChange\" option. Only \"watchQuery\" has that option.');\n        }\n        options.notifyOnNetworkStatusChange = false;\n        var requestId = this.idCounter;\n        var resPromise = new Promise(function (resolve, reject) {\n            _this.addFetchQueryPromise(requestId, resPromise, resolve, reject);\n            return _this.watchQuery(options, false).result().then(function (result) {\n                _this.removeFetchQueryPromise(requestId);\n                resolve(result);\n            }).catch(function (error) {\n                _this.removeFetchQueryPromise(requestId);\n                reject(error);\n            });\n        });\n        return resPromise;\n    };\n    QueryManager.prototype.generateQueryId = function () {\n        var queryId = this.idCounter.toString();\n        this.idCounter++;\n        return queryId;\n    };\n    QueryManager.prototype.stopQueryInStore = function (queryId) {\n        this.store.dispatch({\n            type: 'APOLLO_QUERY_STOP',\n            queryId: queryId,\n        });\n    };\n    QueryManager.prototype.getApolloState = function () {\n        return this.reduxRootSelector(this.store.getState());\n    };\n    QueryManager.prototype.selectApolloState = function (store) {\n        return this.reduxRootSelector(store.getState());\n    };\n    QueryManager.prototype.getInitialState = function () {\n        return { data: this.getApolloState().data };\n    };\n    QueryManager.prototype.getDataWithOptimisticResults = function () {\n        return getDataWithOptimisticResults(this.getApolloState());\n    };\n    QueryManager.prototype.addQueryListener = function (queryId, listener) {\n        this.queryListeners[queryId] = this.queryListeners[queryId] || [];\n        this.queryListeners[queryId].push(listener);\n    };\n    QueryManager.prototype.addFetchQueryPromise = function (requestId, promise, resolve, reject) {\n        this.fetchQueryPromises[requestId.toString()] = { promise: promise, resolve: resolve, reject: reject };\n    };\n    QueryManager.prototype.removeFetchQueryPromise = function (requestId) {\n        delete this.fetchQueryPromises[requestId.toString()];\n    };\n    QueryManager.prototype.addObservableQuery = function (queryId, observableQuery) {\n        this.observableQueries[queryId] = { observableQuery: observableQuery };\n        var queryDef = getQueryDefinition(observableQuery.options.query);\n        if (queryDef.name && queryDef.name.value) {\n            var queryName = queryDef.name.value;\n            this.queryIdsByName[queryName] = this.queryIdsByName[queryName] || [];\n            this.queryIdsByName[queryName].push(observableQuery.queryId);\n        }\n    };\n    QueryManager.prototype.removeObservableQuery = function (queryId) {\n        var observableQuery = this.observableQueries[queryId].observableQuery;\n        var definition = getQueryDefinition(observableQuery.options.query);\n        var queryName = definition.name ? definition.name.value : null;\n        delete this.observableQueries[queryId];\n        if (queryName) {\n            this.queryIdsByName[queryName] = this.queryIdsByName[queryName].filter(function (val) {\n                return !(observableQuery.queryId === val);\n            });\n        }\n    };\n    QueryManager.prototype.resetStore = function () {\n        var _this = this;\n        Object.keys(this.fetchQueryPromises).forEach(function (key) {\n            var reject = _this.fetchQueryPromises[key].reject;\n            reject(new Error('Store reset while query was in flight.'));\n        });\n        this.store.dispatch({\n            type: 'APOLLO_STORE_RESET',\n            observableQueryIds: Object.keys(this.observableQueries),\n        });\n        Object.keys(this.observableQueries).forEach(function (queryId) {\n            var storeQuery = _this.reduxRootSelector(_this.store.getState()).queries[queryId];\n            var fetchPolicy = _this.observableQueries[queryId].observableQuery.options.fetchPolicy;\n            if (fetchPolicy !== 'cache-only') {\n                _this.observableQueries[queryId].observableQuery.refetch();\n            }\n        });\n    };\n    QueryManager.prototype.startQuery = function (queryId, options, listener) {\n        this.addQueryListener(queryId, listener);\n        this.fetchQuery(queryId, options)\n            .catch(function (error) { return undefined; });\n        return queryId;\n    };\n    QueryManager.prototype.startGraphQLSubscription = function (options) {\n        var _this = this;\n        var query = options.query, variables = options.variables;\n        var transformedDoc = query;\n        if (this.addTypename) {\n            transformedDoc = addTypenameToDocument(transformedDoc);\n        }\n        var request = {\n            query: transformedDoc,\n            variables: variables,\n            operationName: getOperationName(transformedDoc),\n        };\n        var subId;\n        var observers = [];\n        return new Observable(function (observer) {\n            observers.push(observer);\n            if (observers.length === 1) {\n                var handler = function (error, result) {\n                    if (error) {\n                        observers.forEach(function (obs) {\n                            if (obs.error) {\n                                obs.error(error);\n                            }\n                        });\n                    }\n                    else {\n                        _this.store.dispatch({\n                            type: 'APOLLO_SUBSCRIPTION_RESULT',\n                            document: transformedDoc,\n                            operationName: getOperationName(transformedDoc),\n                            result: { data: result },\n                            variables: variables || {},\n                            subscriptionId: subId,\n                            extraReducers: _this.getExtraReducers(),\n                        });\n                        observers.forEach(function (obs) {\n                            if (obs.next) {\n                                obs.next(result);\n                            }\n                        });\n                    }\n                };\n                subId = _this.networkInterface.subscribe(request, handler);\n            }\n            return {\n                unsubscribe: function () {\n                    observers = observers.filter(function (obs) { return obs !== observer; });\n                    if (observers.length === 0) {\n                        _this.networkInterface.unsubscribe(subId);\n                    }\n                },\n                _networkSubscriptionId: subId,\n            };\n        });\n    };\n    QueryManager.prototype.stopQuery = function (queryId) {\n        delete this.queryListeners[queryId];\n        delete this.queryDocuments[queryId];\n        this.stopQueryInStore(queryId);\n    };\n    QueryManager.prototype.getCurrentQueryResult = function (observableQuery, isOptimistic) {\n        if (isOptimistic === void 0) { isOptimistic = false; }\n        var _a = this.getQueryParts(observableQuery), variables = _a.variables, document = _a.document;\n        var lastResult = observableQuery.getLastResult();\n        var queryOptions = observableQuery.options;\n        var readOptions = {\n            store: isOptimistic ? this.getDataWithOptimisticResults() : this.getApolloState().data,\n            query: document,\n            variables: variables,\n            config: this.reducerConfig,\n            previousResult: lastResult ? lastResult.data : undefined,\n            fragmentMatcherFunction: this.fragmentMatcher.match,\n        };\n        try {\n            var data = readQueryFromStore(readOptions);\n            return maybeDeepFreeze({ data: data, partial: false });\n        }\n        catch (e) {\n            return maybeDeepFreeze({ data: {}, partial: true });\n        }\n    };\n    QueryManager.prototype.getQueryWithPreviousResult = function (queryIdOrObservable, isOptimistic) {\n        if (isOptimistic === void 0) { isOptimistic = false; }\n        var observableQuery;\n        if (typeof queryIdOrObservable === 'string') {\n            if (!this.observableQueries[queryIdOrObservable]) {\n                throw new Error(\"ObservableQuery with this id doesn't exist: \" + queryIdOrObservable);\n            }\n            observableQuery = this.observableQueries[queryIdOrObservable].observableQuery;\n        }\n        else {\n            observableQuery = queryIdOrObservable;\n        }\n        var _a = this.getQueryParts(observableQuery), variables = _a.variables, document = _a.document;\n        var data = this.getCurrentQueryResult(observableQuery, isOptimistic).data;\n        return {\n            previousResult: data,\n            variables: variables,\n            document: document,\n        };\n    };\n    QueryManager.prototype.getQueryParts = function (observableQuery) {\n        var queryOptions = observableQuery.options;\n        var transformedDoc = observableQuery.options.query;\n        if (this.addTypename) {\n            transformedDoc = addTypenameToDocument(transformedDoc);\n        }\n        return {\n            variables: queryOptions.variables,\n            document: transformedDoc,\n        };\n    };\n    QueryManager.prototype.transformQueryDocument = function (options) {\n        var queryDoc = options.query;\n        if (this.addTypename) {\n            queryDoc = addTypenameToDocument(queryDoc);\n        }\n        return {\n            queryDoc: queryDoc,\n        };\n    };\n    QueryManager.prototype.getExtraReducers = function () {\n        var _this = this;\n        return Object.keys(this.observableQueries).map(function (obsQueryId) {\n            var query = _this.observableQueries[obsQueryId].observableQuery;\n            var queryOptions = query.options;\n            if (queryOptions.reducer) {\n                return createStoreReducer(queryOptions.reducer, _this.addTypename ? addTypenameToDocument(queryOptions.query) : queryOptions.query, query.variables || {}, _this.reducerConfig);\n            }\n            return null;\n        }).filter(function (reducer) { return reducer !== null; });\n    };\n    QueryManager.prototype.fetchRequest = function (_a) {\n        var _this = this;\n        var requestId = _a.requestId, queryId = _a.queryId, document = _a.document, options = _a.options, fetchMoreForQueryId = _a.fetchMoreForQueryId;\n        var variables = options.variables;\n        var request = {\n            query: document,\n            variables: variables,\n            operationName: getOperationName(document),\n        };\n        var retPromise = new Promise(function (resolve, reject) {\n            _this.addFetchQueryPromise(requestId, retPromise, resolve, reject);\n            _this.deduplicator.query(request, _this.queryDeduplication)\n                .then(function (result) {\n                var extraReducers = _this.getExtraReducers();\n                _this.store.dispatch({\n                    type: 'APOLLO_QUERY_RESULT',\n                    document: document,\n                    operationName: getOperationName(document),\n                    result: result,\n                    queryId: queryId,\n                    requestId: requestId,\n                    fetchMoreForQueryId: fetchMoreForQueryId,\n                    extraReducers: extraReducers,\n                });\n                _this.removeFetchQueryPromise(requestId);\n                if (result.errors) {\n                    throw new ApolloError({\n                        graphQLErrors: result.errors,\n                    });\n                }\n                return result;\n            }).then(function () {\n                var resultFromStore;\n                try {\n                    resultFromStore = readQueryFromStore({\n                        store: _this.getApolloState().data,\n                        variables: variables,\n                        query: document,\n                        config: _this.reducerConfig,\n                        fragmentMatcherFunction: _this.fragmentMatcher.match,\n                    });\n                }\n                catch (e) { }\n                var reducerError = _this.getApolloState().reducerError;\n                if (reducerError && reducerError.queryId === queryId) {\n                    return Promise.reject(reducerError.error);\n                }\n                _this.removeFetchQueryPromise(requestId);\n                resolve({ data: resultFromStore, loading: false, networkStatus: NetworkStatus.ready, stale: false });\n                return null;\n            }).catch(function (error) {\n                reject(error);\n            });\n        });\n        return retPromise;\n    };\n    QueryManager.prototype.refetchQueryByName = function (queryName) {\n        var _this = this;\n        var refetchedQueries = this.queryIdsByName[queryName];\n        if (refetchedQueries === undefined) {\n            console.warn(\"Warning: unknown query with name \" + queryName + \" asked to refetch\");\n        }\n        else {\n            refetchedQueries.forEach(function (queryId) {\n                _this.observableQueries[queryId].observableQuery.refetch();\n            });\n        }\n    };\n    QueryManager.prototype.broadcastQueries = function () {\n        var _this = this;\n        var queries = this.getApolloState().queries;\n        Object.keys(this.queryListeners).forEach(function (queryId) {\n            var listeners = _this.queryListeners[queryId];\n            if (listeners) {\n                listeners.forEach(function (listener) {\n                    if (listener) {\n                        var queryStoreValue = queries[queryId];\n                        listener(queryStoreValue);\n                    }\n                });\n            }\n        });\n    };\n    QueryManager.prototype.generateRequestId = function () {\n        var requestId = this.idCounter;\n        this.idCounter++;\n        return requestId;\n    };\n    return QueryManager;\n}());\nexport { QueryManager };\n//# sourceMappingURL=QueryManager.js.map","export var version = 'local';\n//# sourceMappingURL=version.js.map","var __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nimport { createNetworkInterface, } from './transport/networkInterface';\nimport { HeuristicFragmentMatcher, } from './data/fragmentMatcher';\nimport { createApolloStore, createApolloReducer, } from './store';\nimport { QueryManager, } from './core/QueryManager';\nimport { isProduction, } from './util/environment';\nimport { storeKeyNameFromFieldNameAndArgs, } from './data/storeUtils';\nimport { ReduxDataProxy, } from './data/proxy';\nimport { version, } from './version';\nvar DEFAULT_REDUX_ROOT_KEY = 'apollo';\nfunction defaultReduxRootSelector(state) {\n    return state[DEFAULT_REDUX_ROOT_KEY];\n}\nfunction defaultDataIdFromObject(result) {\n    if (result.__typename) {\n        if (result.id !== undefined) {\n            return result.__typename + \":\" + result.id;\n        }\n        if (result._id !== undefined) {\n            return result.__typename + \":\" + result._id;\n        }\n    }\n    return null;\n}\nvar hasSuggestedDevtools = false;\nvar ApolloClient = (function () {\n    function ApolloClient(options) {\n        if (options === void 0) { options = {}; }\n        var _this = this;\n        this.middleware = function () {\n            return function (store) {\n                _this.setStore(store);\n                return function (next) { return function (action) {\n                    var previousApolloState = _this.queryManager.selectApolloState(store);\n                    var returnValue = next(action);\n                    var newApolloState = _this.queryManager.selectApolloState(store);\n                    if (newApolloState !== previousApolloState) {\n                        _this.queryManager.broadcastNewStore(store.getState());\n                    }\n                    if (_this.devToolsHookCb) {\n                        _this.devToolsHookCb({\n                            action: action,\n                            state: _this.queryManager.getApolloState(),\n                            dataWithOptimisticResults: _this.queryManager.getDataWithOptimisticResults(),\n                        });\n                    }\n                    return returnValue;\n                }; };\n            };\n        };\n        var dataIdFromObject = options.dataIdFromObject;\n        var networkInterface = options.networkInterface, reduxRootSelector = options.reduxRootSelector, initialState = options.initialState, _a = options.ssrMode, ssrMode = _a === void 0 ? false : _a, _b = options.ssrForceFetchDelay, ssrForceFetchDelay = _b === void 0 ? 0 : _b, _c = options.addTypename, addTypename = _c === void 0 ? true : _c, customResolvers = options.customResolvers, connectToDevTools = options.connectToDevTools, fragmentMatcher = options.fragmentMatcher, _d = options.queryDeduplication, queryDeduplication = _d === void 0 ? true : _d;\n        if (typeof reduxRootSelector === 'function') {\n            this.reduxRootSelector = reduxRootSelector;\n        }\n        else if (typeof reduxRootSelector !== 'undefined') {\n            throw new Error('\"reduxRootSelector\" must be a function.');\n        }\n        if (typeof fragmentMatcher === 'undefined') {\n            this.fragmentMatcher = new HeuristicFragmentMatcher();\n        }\n        else {\n            this.fragmentMatcher = fragmentMatcher;\n        }\n        this.initialState = initialState ? initialState : {};\n        this.networkInterface = networkInterface ? networkInterface :\n            createNetworkInterface({ uri: '/graphql' });\n        this.addTypename = addTypename;\n        this.disableNetworkFetches = ssrMode || ssrForceFetchDelay > 0;\n        this.dataId = dataIdFromObject = dataIdFromObject || defaultDataIdFromObject;\n        this.fieldWithArgs = storeKeyNameFromFieldNameAndArgs;\n        this.queryDeduplication = queryDeduplication;\n        if (ssrForceFetchDelay) {\n            setTimeout(function () { return _this.disableNetworkFetches = false; }, ssrForceFetchDelay);\n        }\n        this.reducerConfig = {\n            dataIdFromObject: dataIdFromObject,\n            customResolvers: customResolvers,\n            addTypename: addTypename,\n            fragmentMatcher: this.fragmentMatcher.match,\n        };\n        this.watchQuery = this.watchQuery.bind(this);\n        this.query = this.query.bind(this);\n        this.mutate = this.mutate.bind(this);\n        this.setStore = this.setStore.bind(this);\n        this.resetStore = this.resetStore.bind(this);\n        var defaultConnectToDevTools = !isProduction() &&\n            typeof window !== 'undefined' && (!window.__APOLLO_CLIENT__);\n        if (typeof connectToDevTools === 'undefined' ? defaultConnectToDevTools : connectToDevTools) {\n            window.__APOLLO_CLIENT__ = this;\n        }\n        if (!hasSuggestedDevtools && !isProduction()) {\n            hasSuggestedDevtools = true;\n            if (typeof window !== 'undefined' && window.document && window.top === window.self) {\n                if (typeof window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__ === 'undefined') {\n                    if (navigator.userAgent.indexOf('Chrome') > -1) {\n                        console.debug('Download the Apollo DevTools ' +\n                            'for a better development experience: ' +\n                            'https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm');\n                    }\n                }\n            }\n        }\n        this.version = version;\n    }\n    ApolloClient.prototype.watchQuery = function (options) {\n        this.initStore();\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign({}, options, { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.watchQuery(options);\n    };\n    ApolloClient.prototype.query = function (options) {\n        this.initStore();\n        if (options.fetchPolicy === 'cache-and-network') {\n            throw new Error('cache-and-network fetchPolicy can only be used with watchQuery');\n        }\n        if (this.disableNetworkFetches && options.fetchPolicy === 'network-only') {\n            options = __assign({}, options, { fetchPolicy: 'cache-first' });\n        }\n        return this.queryManager.query(options);\n    };\n    ApolloClient.prototype.mutate = function (options) {\n        this.initStore();\n        return this.queryManager.mutate(options);\n    };\n    ApolloClient.prototype.subscribe = function (options) {\n        this.initStore();\n        return this.queryManager.startGraphQLSubscription(options);\n    };\n    ApolloClient.prototype.readQuery = function (options) {\n        return this.initProxy().readQuery(options);\n    };\n    ApolloClient.prototype.readFragment = function (options) {\n        return this.initProxy().readFragment(options);\n    };\n    ApolloClient.prototype.writeQuery = function (options) {\n        return this.initProxy().writeQuery(options);\n    };\n    ApolloClient.prototype.writeFragment = function (options) {\n        return this.initProxy().writeFragment(options);\n    };\n    ApolloClient.prototype.reducer = function () {\n        return createApolloReducer(this.reducerConfig);\n    };\n    ApolloClient.prototype.__actionHookForDevTools = function (cb) {\n        this.devToolsHookCb = cb;\n    };\n    ApolloClient.prototype.initStore = function () {\n        var _this = this;\n        if (this.store) {\n            return;\n        }\n        if (this.reduxRootSelector) {\n            throw new Error('Cannot initialize the store because \"reduxRootSelector\" is provided. ' +\n                'reduxRootSelector should only be used when the store is created outside of the client. ' +\n                'This may lead to unexpected results when querying the store internally. ' +\n                \"Please remove that option from ApolloClient constructor.\");\n        }\n        this.setStore(createApolloStore({\n            reduxRootKey: DEFAULT_REDUX_ROOT_KEY,\n            initialState: this.initialState,\n            config: this.reducerConfig,\n            logger: function (store) { return function (next) { return function (action) {\n                var result = next(action);\n                if (_this.devToolsHookCb) {\n                    _this.devToolsHookCb({\n                        action: action,\n                        state: _this.queryManager.getApolloState(),\n                        dataWithOptimisticResults: _this.queryManager.getDataWithOptimisticResults(),\n                    });\n                }\n                return result;\n            }; }; },\n        }));\n    };\n    ApolloClient.prototype.resetStore = function () {\n        if (this.queryManager) {\n            this.queryManager.resetStore();\n        }\n    };\n    ApolloClient.prototype.getInitialState = function () {\n        this.initStore();\n        return this.queryManager.getInitialState();\n    };\n    ApolloClient.prototype.setStore = function (store) {\n        var reduxRootSelector;\n        if (this.reduxRootSelector) {\n            reduxRootSelector = this.reduxRootSelector;\n        }\n        else {\n            reduxRootSelector = defaultReduxRootSelector;\n        }\n        if (typeof reduxRootSelector(store.getState()) === 'undefined') {\n            throw new Error('Existing store does not use apolloReducer. Please make sure the store ' +\n                'is properly configured and \"reduxRootSelector\" is correctly specified.');\n        }\n        this.store = store;\n        this.queryManager = new QueryManager({\n            networkInterface: this.networkInterface,\n            reduxRootSelector: reduxRootSelector,\n            store: store,\n            addTypename: this.addTypename,\n            reducerConfig: this.reducerConfig,\n            queryDeduplication: this.queryDeduplication,\n            fragmentMatcher: this.fragmentMatcher,\n        });\n    };\n    ApolloClient.prototype.initProxy = function () {\n        if (!this.proxy) {\n            this.initStore();\n            this.proxy = new ReduxDataProxy(this.store, this.reduxRootSelector || defaultReduxRootSelector, this.fragmentMatcher, this.reducerConfig);\n        }\n        return this.proxy;\n    };\n    return ApolloClient;\n}());\nexport default ApolloClient;\n//# sourceMappingURL=ApolloClient.js.map"],"names":["this","print","__extends","__assign","NetworkStatus","applyMiddleware","compose","reduxCompose","createStore","combineReducers","ApolloClient"],"mappings":"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"}