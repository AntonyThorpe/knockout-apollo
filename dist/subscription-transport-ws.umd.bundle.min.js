!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=54)}({10:function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},38:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=n(55),r=n(87),o=void 0!==e?e:"undefined"!=typeof window?window:{},s=o.WebSocket||o.MozWebSocket,c=n(85),a=n(86),u=n(78),f=n(77);!function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(84));var l=5e3,p=function(){function e(e,t,n){var o=t||{},c=o.connectionCallback,a=void 0===c?void 0:c,u=o.connectionParams,f=void 0===u?{}:u,p=o.timeout,v=void 0===p?l:p,d=o.reconnect,h=void 0!==d&&d,y=o.reconnectionAttempts,b=void 0===y?1/0:y;if(this.wsImpl=n||s,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.connectionParams=f,this.connectionCallback=a,this.url=e,this.subscriptions={},this.maxId=0,this.subscriptionTimeout=v,this.waitingSubscriptions={},this.unsentMessagesQueue=[],this.reconnect=h,this.reconnectSubscriptions={},this.reconnecting=!1,this.reconnectionAttempts=b,this.backoff=new i({jitter:.5}),this.eventEmitter=new r.EventEmitter,this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(){this.client.close()},e.prototype.subscribe=function(e,t){var n=this,i=e.query,r=e.variables,o=e.operationName;e.context;if(!i)throw new Error("Must provide `query` to subscribe.");if(!t)throw new Error("Must provide `handler` to subscribe.");if(!u(i)||o&&!u(o)||r&&!f(r))throw new Error("Incorrect option types to subscribe. `subscription` must be a string,`operationName` must be a string, and `variables` must be an object.");var s=this.generateSubscriptionId(),a=Object.assign(e,{type:c.SUBSCRIPTION_START,id:s});return this.sendMessage(a),this.subscriptions[s]={options:e,handler:t},this.waitingSubscriptions[s]=!0,setTimeout(function(){n.waitingSubscriptions[s]&&(t([new Error("Subscription timed out - no response from server")]),n.unsubscribe(s))},this.subscriptionTimeout),s},e.prototype.on=function(e,t,n){var i=this.eventEmitter.on(e,t,n);return function(){i.off(e,t,n)}},e.prototype.onConnect=function(e,t){return this.on("connect",e,t)},e.prototype.onDisconnect=function(e,t){return this.on("disconnect",e,t)},e.prototype.onReconnect=function(e,t){return this.on("reconnect",e,t)},e.prototype.unsubscribe=function(e){delete this.subscriptions[e],delete this.waitingSubscriptions[e];var t={id:e,type:c.SUBSCRIPTION_END};this.sendMessage(t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.subscriptions).forEach(function(t){e.unsubscribe(parseInt(t))})},e.prototype.sendMessage=function(e){switch(this.client.readyState){case this.client.OPEN:this.client.send(JSON.stringify(e));break;case this.client.CONNECTING:this.unsentMessagesQueue.push(e);break;case this.client.CLOSING:case this.client.CLOSED:default:if(!this.reconnecting)throw new Error("Client is not connected to a websocket.")}},e.prototype.generateSubscriptionId=function(){var e=this.maxId;return this.maxId+=1,e},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.message?[e]:[{message:"Unknown error"}]},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>this.reconnectionAttempts)){this.reconnecting||(this.reconnectSubscriptions=this.subscriptions,this.subscriptions={},this.waitingSubscriptions={},this.reconnecting=!0);var t=this.backoff.duration();setTimeout(function(){e.connect(!0)},t)}},e.prototype.connect=function(e){var t=this;void 0===e&&(e=!1),this.client=new this.wsImpl(this.url,a.GRAPHQL_SUBSCRIPTIONS),this.client.onopen=function(){t.eventEmitter.emit(e?"reconnect":"connect"),t.reconnecting=!1,t.backoff.reset(),t.sendMessage({type:c.INIT,payload:t.connectionParams}),Object.keys(t.reconnectSubscriptions).forEach(function(e){var n=t.reconnectSubscriptions[e],i=n.options,r=n.handler;t.subscribe(i,r)}),t.unsentMessagesQueue.forEach(function(e){t.client.send(JSON.stringify(e))}),t.unsentMessagesQueue=[]},this.client.onclose=function(){t.eventEmitter.emit("disconnect"),t.tryReconnect()},this.client.onerror=function(){},this.client.onmessage=function(e){var n,i=e.data;try{n=JSON.parse(i)}catch(e){throw new Error("Message must be JSON-parseable. Got: "+i)}var r=n.id;if(-1!==[c.KEEPALIVE,c.INIT_SUCCESS,c.INIT_FAIL].indexOf(n.type)||t.subscriptions[r]||(t.unsubscribe(r),n.type!==c.KEEPALIVE))switch(n.type){case c.INIT_FAIL:t.connectionCallback&&t.connectionCallback(n.payload.error);break;case c.INIT_SUCCESS:t.connectionCallback&&t.connectionCallback();break;case c.SUBSCRIPTION_SUCCESS:delete t.waitingSubscriptions[r];break;case c.SUBSCRIPTION_FAIL:t.subscriptions[r].handler(t.formatErrors(n.payload.errors),null),delete t.subscriptions[r],delete t.waitingSubscriptions[r];break;case c.SUBSCRIPTION_DATA:var o=n.payload.data||null,s=n.payload.errors?t.formatErrors(n.payload.errors):null;t.subscriptions[r].handler(s,o);break;case c.KEEPALIVE:break;default:throw new Error("Invalid message type!")}}},e}();t.SubscriptionClient=p}).call(t,n(10))},54:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addGraphQLSubscriptions=t.SubscriptionClient=void 0;var i=n(38);t.SubscriptionClient=i.SubscriptionClient,t.addGraphQLSubscriptions=i.addGraphQLSubscriptions},55:function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},77:function(e,t){function n(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=n},78:function(e,t){function n(e){return!!e&&"object"==typeof e}function i(e){return"string"==typeof e||!c(e)&&n(e)&&s.call(e)==r}var r="[object String]",o=Object.prototype,s=o.toString,c=Array.isArray;e.exports=i},84:function(e,t,n){"use strict";function i(e,t){return Object.assign(e,{subscribe:function(e,n){return t.subscribe({query:r.print(e.query),variables:e.variables},n)},unsubscribe:function(e){t.unsubscribe(e)}})}Object.defineProperty(t,"__esModule",{value:!0});var r=n(88);t.addGraphQLSubscriptions=i},85:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SUBSCRIPTION_FAIL="subscription_fail";t.SUBSCRIPTION_END="subscription_end";t.SUBSCRIPTION_DATA="subscription_data";t.SUBSCRIPTION_START="subscription_start";t.SUBSCRIPTION_SUCCESS="subscription_success";t.KEEPALIVE="keepalive";t.INIT="init";t.INIT_SUCCESS="init_success";t.INIT_FAIL="init_fail"},86:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"},87:function(e,t,n){"use strict";function i(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(){this._events=new i,this._eventsCount=0}var s=Object.prototype.hasOwnProperty,c="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(c=!1)),o.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)s.call(e,t)&&n.push(c?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e,t){var n=c?c+e:e,i=this._events[n];if(t)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var r=0,o=i.length,s=new Array(o);r<o;r++)s[r]=i[r].fn;return s},o.prototype.emit=function(e,t,n,i,r,o){var s=c?c+e:e;if(!this._events[s])return!1;var a,u,f=this._events[s],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,i),!0;case 5:return f.fn.call(f.context,t,n,i,r),!0;case 6:return f.fn.call(f.context,t,n,i,r,o),!0}for(u=1,a=new Array(l-1);u<l;u++)a[u-1]=arguments[u];f.fn.apply(f.context,a)}else{var p,v=f.length;for(u=0;u<v;u++)switch(f[u].once&&this.removeListener(e,f[u].fn,void 0,!0),l){case 1:f[u].fn.call(f[u].context);break;case 2:f[u].fn.call(f[u].context,t);break;case 3:f[u].fn.call(f[u].context,t,n);break;case 4:f[u].fn.call(f[u].context,t,n,i);break;default:if(!a)for(p=1,a=new Array(l-1);p<l;p++)a[p-1]=arguments[p];f[u].fn.apply(f[u].context,a)}}return!0},o.prototype.on=function(e,t,n){var i=new r(t,n||this),o=c?c+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.once=function(e,t,n){var i=new r(t,n||this,!0),o=c?c+e:e;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],i]:this._events[o].push(i):(this._events[o]=i,this._eventsCount++),this},o.prototype.removeListener=function(e,t,n,r){var o=c?c+e:e;if(!this._events[o])return this;if(!t)return 0==--this._eventsCount?this._events=new i:delete this._events[o],this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||(0==--this._eventsCount?this._events=new i:delete this._events[o]);else{for(var a=0,u=[],f=s.length;a<f;a++)(s[a].fn!==t||r&&!s[a].once||n&&s[a].context!==n)&&u.push(s[a]);u.length?this._events[o]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new i:delete this._events[o]}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=c?c+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=c,o.EventEmitter=o,e.exports=o},88:function(e,t,n){"use strict";function i(e){return(0,a.visit)(e,{leave:u})}function r(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function o(e){return e&&0!==e.length?c("{\n"+r(e,"\n"))+"\n}":"{}"}function s(e,t,n){return t?e+t+(n||""):""}function c(e){return e&&e.replace(/\n/g,"\n  ")}Object.defineProperty(t,"__esModule",{value:!0}),t.print=i;var a=n(89),u={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return r(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,i=s("(",r(e.variableDefinitions,", "),")"),o=r(e.directives," "),c=e.selectionSet;return n||o||i||"query"!==t?r([t,r([n,i]),o,c]," "):c},VariableDefinition:function(e){return e.variable+": "+e.type+s(" = ",e.defaultValue)},SelectionSet:function(e){return o(e.selections)},Field:function(e){var t=e.alias,n=e.name,i=e.arguments,o=e.directives,c=e.selectionSet;return r([s("",t,": ")+n+s("(",r(i,", "),")"),r(o," "),c]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+s(" ",r(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,i=e.selectionSet;return r(["...",s("on ",t),r(n," "),i]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,i=e.directives,o=e.selectionSet;return"fragment "+t+" on "+n+" "+s("",r(i," ")," ")+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e){var t=e.value;return JSON.stringify(t)},BooleanValue:function(e){var t=e.value;return JSON.stringify(t)},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+r(e.values,", ")+"]"},ObjectValue:function(e){return"{"+r(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+s("(",r(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,n=e.operationTypes;return r(["schema",r(t," "),o(n)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:function(e){return r(["scalar",e.name,r(e.directives," ")]," ")},ObjectTypeDefinition:function(e){var t=e.name,n=e.interfaces,i=e.directives,c=e.fields;return r(["type",t,s("implements ",r(n,", ")),r(i," "),o(c)]," ")},FieldDefinition:function(e){var t=e.name,n=e.arguments,i=e.type,o=e.directives;return t+s("(",r(n,", "),")")+": "+i+s(" ",r(o," "))},InputValueDefinition:function(e){var t=e.name,n=e.type,i=e.defaultValue,o=e.directives;return r([t+": "+n,s("= ",i),r(o," ")]," ")},InterfaceTypeDefinition:function(e){var t=e.name,n=e.directives,i=e.fields;return r(["interface",t,r(n," "),o(i)]," ")},UnionTypeDefinition:function(e){var t=e.name,n=e.directives,i=e.types;return r(["union",t,r(n," "),"= "+r(i," | ")]," ")},EnumTypeDefinition:function(e){var t=e.name,n=e.directives,i=e.values;return r(["enum",t,r(n," "),o(i)]," ")},EnumValueDefinition:function(e){return r([e.name,r(e.directives," ")]," ")},InputObjectTypeDefinition:function(e){var t=e.name,n=e.directives,i=e.fields;return r(["input",t,r(n," "),o(i)]," ")},TypeExtensionDefinition:function(e){return"extend "+e.definition},DirectiveDefinition:function(e){var t=e.name,n=e.arguments,i=e.locations;return"directive @"+t+s("(",r(n,", "),")")+" on "+r(i," | ")}}},89:function(e,t,n){"use strict";function i(e,t,n){var i=n||a,o=void 0,s=Array.isArray(e),f=[e],l=-1,p=[],v=void 0,d=[],h=[],y=e;do{l++;var b=l===f.length,m=void 0,S=void 0,g=b&&0!==p.length;if(b){if(m=0===h.length?void 0:d.pop(),S=v,v=h.pop(),g){if(s)S=S.slice();else{var _={};for(var I in S)S.hasOwnProperty(I)&&(_[I]=S[I]);S=_}for(var w=0,O=0;O<p.length;O++){var T=p[O][0],E=p[O][1];s&&(T-=w),s&&null===E?(S.splice(T,1),w++):S[T]=E}}l=o.index,f=o.keys,p=o.edits,s=o.inArray,o=o.prev}else{if(m=v?s?l:f[l]:void 0,null===(S=v?v[m]:y)||void 0===S)continue;v&&d.push(m)}var C=void 0;if(!Array.isArray(S)){if(!r(S))throw new Error("Invalid AST Node: "+JSON.stringify(S));var N=c(t,S.kind,b);if(N){if((C=N.call(t,S,m,v,d,h))===u)break;if(!1===C){if(!b){d.pop();continue}}else if(void 0!==C&&(p.push([m,C]),!b)){if(!r(C)){d.pop();continue}S=C}}}void 0===C&&g&&p.push([m,S]),b||(o={inArray:s,index:l,keys:f,edits:p,prev:o},s=Array.isArray(S),f=s?S:i[S.kind]||[],l=-1,p=[],v&&h.push(v),v=S)}while(void 0!==o);return 0!==p.length&&(y=p[p.length-1][1]),y}function r(e){return e&&"string"==typeof e.kind}function o(e){var t=new Array(e.length);return{enter:function(n){for(var i=0;i<e.length;i++)if(!t[i]){var r=c(e[i],n.kind,!1);if(r){var o=r.apply(e[i],arguments);if(!1===o)t[i]=n;else if(o===u)t[i]=u;else if(void 0!==o)return o}}},leave:function(n){for(var i=0;i<e.length;i++)if(t[i])t[i]===n&&(t[i]=null);else{var r=c(e[i],n.kind,!0);if(r){var o=r.apply(e[i],arguments);if(o===u)t[i]=u;else if(void 0!==o&&!1!==o)return o}}}}}function s(e,t){return{enter:function(n){e.enter(n);var i=c(t,n.kind,!1);if(i){var o=i.apply(t,arguments);return void 0!==o&&(e.leave(n),r(o)&&e.enter(o)),o}},leave:function(n){var i=c(t,n.kind,!0),r=void 0;return i&&(r=i.apply(t,arguments)),e.leave(n),r}}}function c(e,t,n){var i=e[t];if(i){if(!n&&"function"==typeof i)return i;var r=n?i.leave:i.enter;if("function"==typeof r)return r}else{var o=n?e.leave:e.enter;if(o){if("function"==typeof o)return o;var s=o[t];if("function"==typeof s)return s}}}Object.defineProperty(t,"__esModule",{value:!0}),t.visit=i,t.visitInParallel=o,t.visitWithTypeInfo=s,t.getVisitFn=c;var a=t.QueryDocumentKeys={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["name","directives"],ObjectTypeDefinition:["name","interfaces","directives","fields"],FieldDefinition:["name","arguments","type","directives"],InputValueDefinition:["name","type","defaultValue","directives"],InterfaceTypeDefinition:["name","directives","fields"],UnionTypeDefinition:["name","directives","types"],EnumTypeDefinition:["name","directives","values"],EnumValueDefinition:["name","directives"],InputObjectTypeDefinition:["name","directives","fields"],TypeExtensionDefinition:["definition"],DirectiveDefinition:["name","arguments","locations"]},u=t.BREAK={}}})});